{"version":3,"file":"../../../dist/rfk-sdk.js","mappings":"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","sources":["webpack://RFK/../rfk-sdk-data/lib/model/utils.js","webpack://RFK/webpack/bootstrap","webpack://RFK/webpack/runtime/define property getters","webpack://RFK/webpack/runtime/hasOwnProperty shorthand","webpack://RFK/webpack/runtime/make namespace object","webpack://RFK/../rfk-sdk-ui/node_modules/preact/dist/preact.module.js","webpack://RFK/../rfk-sdk-ui/node_modules/preact/devtools/dist/devtools.module.js","webpack://RFK/../rfk-sdk-ui/node_modules/preact/debug/dist/debug.module.js","webpack://RFK/../rfk-sdk-core/lib/actions.ts","webpack://RFK/../rfk-sdk-data/lib/utils/utils.ts","webpack://RFK/../rfk-sdk-data/lib/constants.ts","webpack://RFK/../rfk-sdk-data/lib/config.ts","webpack://RFK/../rfk-sdk-data/lib/utils/cookieHandler.ts","webpack://RFK/../rfk-sdk-data/lib/utils/localStorageHandler.ts","webpack://RFK/../rfk-sdk-data/lib/utils/storage.ts","webpack://RFK/../rfk-sdk-data/lib/api/siteInfo.ts","webpack://RFK/../rfk-sdk-data/lib/api/headers.ts","webpack://RFK/../rfk-sdk-data/lib/api/tokenManager.ts","webpack://RFK/../rfk-sdk-data/lib/api/cache.ts","webpack://RFK/../rfk-sdk-data/lib/api/apiAdapter.ts","webpack://RFK/../rfk-sdk-data/lib/events/eventUtils.ts","webpack://RFK/../rfk-sdk-data/lib/events/funnelEvents.ts","webpack://RFK/../rfk-sdk-common/lib/is.ts","webpack://RFK/../rfk-sdk-common/lib/merge.ts","webpack://RFK/../rfk-sdk-core/lib/widgetsConfig.ts","webpack://RFK/../rfk-sdk-models/lib/widget.ts","webpack://RFK/../rfk-sdk-models/lib/searchRecApi/response.ts","webpack://RFK/../rfk-sdk-data/lib/appearance/devices.model.ts","webpack://RFK/../rfk-sdk-data/lib/appearance/sections.model.ts","webpack://RFK/../rfk-sdk-common/lib/misc.ts","webpack://RFK/../rfk-sdk-common/lib/model/utils.ts","webpack://RFK/../rfk-sdk-data/lib/requestData.ts","webpack://RFK/../rfk-sdk-data/lib/model/index.ts","webpack://RFK/../rfk-sdk-data/lib/appearance/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/appearance/templates.model.ts","webpack://RFK/../rfk-sdk-data/lib/appearance/variables.model.ts","webpack://RFK/../rfk-sdk-data/lib/content/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/geo.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/user.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/browser.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/page.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/campaign.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/product.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/category.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/hardFilter.model.ts","webpack://RFK/../rfk-sdk-data/lib/contextValues/channel.model.ts","webpack://RFK/../rfk-sdk-data/lib/features/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/features/discover.model.ts","webpack://RFK/../rfk-sdk-data/lib/filters/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/sort/item.model.ts","webpack://RFK/../rfk-sdk-data/lib/searchParams/facet.model.ts","webpack://RFK/../rfk-sdk-data/lib/searchParams/query.model.ts","webpack://RFK/../rfk-sdk-data/lib/sort/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/widget/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/store.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/user.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/page.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/campaign.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/geo.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/fitment.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/browser.model.ts","webpack://RFK/../rfk-sdk-data/lib/context/channel.model.ts","webpack://RFK/../rfk-sdk-data/lib/api/rfkRequest.ts","webpack://RFK/../rfk-sdk-data/lib/api/rfkRequest.model.ts","webpack://RFK/../rfk-sdk-data/lib/batch/index.model.ts","webpack://RFK/../rfk-sdk-data/lib/searchParams/suggestion.model.ts","webpack://RFK/../rfk-sdk-data/lib/defaults/recommendation.ts","webpack://RFK/../rfk-sdk-data/lib/defaults/contentBlock.ts","webpack://RFK/../rfk-sdk-data/lib/defaults/index.ts","webpack://RFK/../rfk-sdk-data/lib/defaults/discover.ts","webpack://RFK/../rfk-sdk-data/lib/defaults/searchResults.ts","webpack://RFK/../rfk-sdk-data/lib/defaults/previewSearch.ts","webpack://RFK/../rfk-sdk-data/lib/api/initRfkRequest.ts","webpack://RFK/../rfk-sdk-data/lib/api/dataProvider/processor.ts","webpack://RFK/../rfk-sdk-data/lib/api/dataProvider/index.ts","webpack://RFK/../rfk-sdk-core/lib/dispatcher.ts","webpack://RFK/../rfk-sdk-core/lib/dataAdapter/index.ts","webpack://RFK/../rfk-sdk-data/lib/context/index.ts","webpack://RFK/../rfk-sdk-core/lib/pageContext.ts","webpack://RFK/../rfk-sdk-core/lib/controller/page.ts","webpack://RFK/../rfk-sdk-common/lib/debounce.ts","webpack://RFK/../rfk-sdk-ui/node_modules/preact/hooks/dist/hooks.module.js","webpack://RFK/../rfk-sdk-ui/node_modules/preact/compat/dist/compat.module.js","webpack://RFK/../rfk-sdk-ui/node_modules/react-intersection-observer/react-intersection-observer.m.js","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/WidgetContext.ts","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/hooks/useWidget.ts","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/hooks/useWidgetVisibility.ts","webpack://RFK/../rfk-sdk-ui/node_modules/htm/dist/htm.module.js","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/htm.ts","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/setupWidget.ts","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/hocs/withWidgetAppear.ts","webpack://RFK/../rfk-sdk-ui/lib/widgetFactory.ts","webpack://RFK/../rfk-sdk-ui/lib/defaultWidgetConfig.ts","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/widgetFactory.ts","webpack://RFK/../rfk-sdk-ui/lib/widgetRenderer.ts","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/widgetRenderer.ts","webpack://RFK/../rfk-sdk-ui/lib/containerRenderer.ts","webpack://RFK/../rfk-sdk-ui/lib/integrations/preact/containerRendererFactory.ts","webpack://RFK/../rfk-sdk-data/lib/events/eventTracker.ts","webpack://RFK/../rfk-sdk-core/lib/controller/widget.ts","webpack://RFK/../rfk-sdk-core/lib/store.ts","webpack://RFK/../rfk-sdk-data/lib/events/discoverEvents.ts","webpack://RFK/../rfk-sdk-data/lib/events/fullPageSearchEvents.ts","webpack://RFK/../rfk-sdk-data/lib/events/previewSearchEvents.ts","webpack://RFK/../rfk-sdk-data/lib/events/recommendationEvents.ts","webpack://RFK/../rfk-sdk-data/lib/index.ts","webpack://RFK/../rfk-sdk-widgets/lib/contentBlock/index.ts","webpack://RFK/../rfk-sdk-widgets/lib/recommendation/actions.ts","webpack://RFK/../rfk-sdk-widgets/lib/recommendation/index.ts","webpack://RFK/../rfk-sdk-widgets/lib/searchResults/actions.ts","webpack://RFK/../rfk-sdk-widgets/lib/searchResults/index.ts","webpack://RFK/../rfk-sdk-widgets/lib/discover/actions.ts","webpack://RFK/../rfk-sdk-widgets/lib/discover/index.ts","webpack://RFK/../rfk-sdk-widgets/lib/search/actions.ts","webpack://RFK/../rfk-sdk-widgets/lib/search/previewSearch.ts","webpack://RFK/../rfk-sdk-widgets/lib/defaults.ts","webpack://RFK/./lib/dataProviderProcessor.ts","webpack://RFK/./lib/widgets/contentBlock/index.ts","webpack://RFK/./lib/widgets/contentBlock/seo.ts","webpack://RFK/./lib/setup.ts","webpack://RFK/../rfk-sdk-data/lib/setup.ts"],"sourcesContent":["function _defineProperties(target, props) {\n  for (let i = 0; i < props.length; i++) {\n    const descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if ('value' in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  // eslint-disable-next-line no-func-assign\n  _setPrototypeOf =\n    Object.setPrototypeOf ||\n    function _setPrototypeOf(o, p) {\n      // eslint-disable-next-line no-proto\n      o.__proto__ = p;\n      return o;\n    };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  // eslint-disable-next-line no-void\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === 'function') return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  // eslint-disable-next-line no-func-assign\n  _getPrototypeOf = Object.setPrototypeOf\n    ? Object.getPrototypeOf\n    : function _getPrototypeOf(o) {\n        return o.__proto__ || Object.getPrototypeOf(o);\n      };\n  return _getPrototypeOf(o);\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n    // eslint-disable-next-line no-func-assign\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    // eslint-disable-next-line no-func-assign\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype\n        ? 'symbol'\n        : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n    return call;\n    // eslint-disable-next-line no-void\n  } else if (call !== void 0) {\n    throw new TypeError('Derived constructors may only return object or undefined');\n  }\n  return _assertThisInitialized(self);\n}\n\nfunction defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function');\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: { value: subClass, writable: true, configurable: true },\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction createSuper(Derived) {\n  const hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    const Super = _getPrototypeOf(Derived);\n    let result;\n    if (hasNativeReflectConstruct) {\n      const NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = { defineProperty, createClass, inherits, createSuper };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&null!=_.__k&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?x(t,l,u):P(u,t,t,n.__k,t.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&(s===l||(d?s.localName==d:3==s.nodeType))){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n,Fragment as o,Component as e}from\"preact\";function t(o,e){return n.__a&&n.__a(e),o}\"undefined\"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact(\"10.5.14\",n,{Fragment:o,Component:e});export{t as addHookName};\n//# sourceMappingURL=devtools.module.js.map\n","import{options as n,Fragment as t,Component as e}from\"preact\";import\"preact/devtools\";var o={};function r(){o={}}function a(n){return n.type===t?\"Fragment\":\"function\"==typeof n.type?n.type.displayName||n.type.name:\"string\"==typeof n.type?n.type:\"#text\"}var i=[],s=[];function c(){return i.length>0?i[i.length-1]:null}var l=!1;function u(n){return\"function\"==typeof n.type&&n.type!=t}function f(n){for(var t=[n],e=n;null!=e.__o;)t.push(e.__o),e=e.__o;return t.reduce(function(n,t){n+=\"  in \"+a(t);var e=t.__source;return e?n+=\" (at \"+e.fileName+\":\"+e.lineNumber+\")\":l||(l=!0,console.warn(\"Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.\")),n+\"\\n\"},\"\")}var p=\"function\"==typeof WeakMap,d=e.prototype.setState;e.prototype.setState=function(n,t){return null==this.__v?null==this.state&&console.warn('Calling \"this.setState\" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set \"this.state = {}\" directly.\\n\\n'+f(c())):null==this.__P&&console.warn('Can\\'t call \"this.setState\" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\\n\\n'+f(this.__v)),d.call(this,n,t)};var h=e.prototype.forceUpdate;function y(n){var t=n.props,e=a(n),o=\"\";for(var r in t)if(t.hasOwnProperty(r)&&\"children\"!==r){var i=t[r];\"function\"==typeof i&&(i=\"function \"+(i.displayName||i.name)+\"() {}\"),i=Object(i)!==i||i.toString?i+\"\":Object.prototype.toString.call(i),o+=\" \"+r+\"=\"+JSON.stringify(i)}var s=t.children;return\"<\"+e+o+(s&&s.length?\">..</\"+e+\">\":\" />\")}e.prototype.forceUpdate=function(n){return null==this.__v?console.warn('Calling \"this.forceUpdate\" inside the constructor of a component is a no-op and might be a bug in your application.\\n\\n'+f(c())):null==this.__P&&console.warn('Can\\'t call \"this.forceUpdate\" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\\n\\n'+f(this.__v)),h.call(this,n)},function(){!function(){var t=n.__b,e=n.diffed,o=n.__,r=n.vnode,a=n.__r;n.diffed=function(n){u(n)&&s.pop(),i.pop(),e&&e(n)},n.__b=function(n){u(n)&&i.push(n),t&&t(n)},n.__=function(n,t){s=[],o&&o(n,t)},n.vnode=function(n){n.__o=s.length>0?s[s.length-1]:null,r&&r(n)},n.__r=function(n){u(n)&&s.push(n),a&&a(n)}}();var t=!1,e=n.__b,r=n.diffed,c=n.vnode,l=n.__e,d=n.__,h=n.__h,m=p?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,v=[];n.__e=function(n,t,e){if(t&&t.__c&&\"function\"==typeof n.then){var o=n;n=new Error(\"Missing Suspense. The throwing component was: \"+a(t));for(var r=t;r;r=r.__)if(r.__c&&r.__c.__c){n=o;break}if(n instanceof Error)throw n}try{l(n,t,e),\"function\"!=typeof n.then&&setTimeout(function(){throw n})}catch(n){throw n}},n.__=function(n,t){if(!t)throw new Error(\"Undefined parent passed to render(), this is the second argument.\\nCheck if the element is available in the DOM/has the correct id.\");var e;switch(t.nodeType){case 1:case 11:case 9:e=!0;break;default:e=!1}if(!e){var o=a(n);throw new Error(\"Expected a valid HTML node as a second argument to render.\\tReceived \"+t+\" instead: render(<\"+o+\" />, \"+t+\");\")}d&&d(n,t)},n.__b=function(n){var r=n.type,i=function n(t){return t?\"function\"==typeof t.type?n(t.__):t:{}}(n.__);if(t=!0,void 0===r)throw new Error(\"Undefined component passed to createElement()\\n\\nYou likely forgot to export your component or might have mixed up default and named imports\"+y(n)+\"\\n\\n\"+f(n));if(null!=r&&\"object\"==typeof r){if(void 0!==r.__k&&void 0!==r.__e)throw new Error(\"Invalid type passed to createElement(): \"+r+\"\\n\\nDid you accidentally pass a JSX literal as JSX twice?\\n\\n  let My\"+a(n)+\" = \"+y(r)+\";\\n  let vnode = <My\"+a(n)+\" />;\\n\\nThis usually happens when you export a JSX literal and not the component.\\n\\n\"+f(n));throw new Error(\"Invalid type passed to createElement(): \"+(Array.isArray(r)?\"array\":r))}if(\"thead\"!==r&&\"tfoot\"!==r&&\"tbody\"!==r||\"table\"===i.type?\"tr\"===r&&\"thead\"!==i.type&&\"tfoot\"!==i.type&&\"tbody\"!==i.type&&\"table\"!==i.type?console.error(\"Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent.\"+y(n)+\"\\n\\n\"+f(n)):\"td\"===r&&\"tr\"!==i.type?console.error(\"Improper nesting of table. Your <td> should have a <tr> parent.\"+y(n)+\"\\n\\n\"+f(n)):\"th\"===r&&\"tr\"!==i.type&&console.error(\"Improper nesting of table. Your <th> should have a <tr>.\"+y(n)+\"\\n\\n\"+f(n)):console.error(\"Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent.\"+y(n)+\"\\n\\n\"+f(n)),void 0!==n.ref&&\"function\"!=typeof n.ref&&\"object\"!=typeof n.ref&&!(\"$$typeof\"in n))throw new Error('Component\\'s \"ref\" property should be a function, or an object created by createRef(), but got ['+typeof n.ref+\"] instead\\n\"+y(n)+\"\\n\\n\"+f(n));if(\"string\"==typeof n.type)for(var s in n.props)if(\"o\"===s[0]&&\"n\"===s[1]&&\"function\"!=typeof n.props[s]&&null!=n.props[s])throw new Error(\"Component's \\\"\"+s+'\" property should be a function, but got ['+typeof n.props[s]+\"] instead\\n\"+y(n)+\"\\n\\n\"+f(n));if(\"function\"==typeof n.type&&n.type.propTypes){if(\"Lazy\"===n.type.displayName&&m&&!m.lazyPropTypes.has(n.type)){var c=\"PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. \";try{var l=n.type();m.lazyPropTypes.set(n.type,!0),console.warn(c+\"Component wrapped in lazy() is \"+a(l))}catch(n){console.warn(c+\"We will log the wrapped component's name once it is loaded.\")}}var u=n.props;n.type.__f&&delete(u=function(n,t){for(var e in t)n[e]=t[e];return n}({},u)).ref,function(n,t,e,r,a){Object.keys(n).forEach(function(e){var i;try{i=n[e](t,e,r,\"prop\",null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(n){i=n}!i||i.message in o||(o[i.message]=!0,console.error(\"Failed prop type: \"+i.message+(a&&\"\\n\"+a()||\"\")))})}(n.type.propTypes,u,0,a(n),function(){return f(n)})}e&&e(n)},n.__h=function(n,e,o){if(!n||!t)throw new Error(\"Hook can only be invoked from render methods.\");h&&h(n,e,o)};var b=function(n,t){return{get:function(){var e=\"get\"+n+t;v&&v.indexOf(e)<0&&(v.push(e),console.warn(\"getting vnode.\"+n+\" is deprecated, \"+t))},set:function(){var e=\"set\"+n+t;v&&v.indexOf(e)<0&&(v.push(e),console.warn(\"setting vnode.\"+n+\" is not allowed, \"+t))}}},w={nodeName:b(\"nodeName\",\"use vnode.type\"),attributes:b(\"attributes\",\"use vnode.props\"),children:b(\"children\",\"use vnode.props.children\")},g=Object.create({},w);n.vnode=function(n){var t=n.props;if(null!==n.type&&null!=t&&(\"__source\"in t||\"__self\"in t)){var e=n.props={};for(var o in t){var r=t[o];\"__source\"===o?n.__source=r:\"__self\"===o?n.__self=r:e[o]=r}}n.__proto__=g,c&&c(n)},n.diffed=function(n){if(n.__k&&n.__k.forEach(function(t){if(t&&void 0===t.type){delete t.__,delete t.__b;var e=Object.keys(t).join(\",\");throw new Error(\"Objects are not valid as a child. Encountered an object with the keys {\"+e+\"}.\\n\\n\"+f(n))}}),t=!1,r&&r(n),null!=n.__k)for(var e=[],o=0;o<n.__k.length;o++){var a=n.__k[o];if(a&&null!=a.key){var i=a.key;if(-1!==e.indexOf(i)){console.error('Following component has two or more children with the same key attribute: \"'+i+'\". This may cause glitches and misbehavior in rendering process. Component: \\n\\n'+y(n)+\"\\n\\n\"+f(n));break}e.push(i)}}}}();export{r as resetPropWarnings};\n//# sourceMappingURL=debug.module.js.map\n","export const actionBuilder = (type: string) => (action: string) => `${type}/${action}`;\n\nexport default {\n  // core\n  LOAD: 'core/LOAD',\n  REQUEST: 'core/REQUEST',\n  REQUEST_SUCCESS: 'core/REQUEST_SUCCESS',\n  REQUEST_FAIL: 'core/REQUEST_FAIL',\n  WIDGET_APPEAR: 'core/WIDGET_APPEAR',\n  PAGE_CONTAINER_READY: 'core/PAGE_CONTAINER_READY',\n  WIDGET_READY: 'core/WIDGET_READY',\n  INITIALIZE: 'core/INITIALIZE',\n  INITIALIZED: 'core/INITIALIZED',\n  RESET_WIDGET: 'core/RESET_WIDGET',\n  PAGE_CONTEXT_CHANGED: 'core/PAGE_CONTEXT_CHANGED',\n\n  // core/interaction\n  ADD_TO_CART: 'core/interaction/ADD_TO_CART',\n  ORDER_CONFIRM: 'core/interaction/ORDER_CONFIRM',\n  USER_LOGIN: 'core/interaction/USER_LOGIN',\n  ADD_TO_WISHLIST: 'core/interaction/ADD_TO_WISHLIST',\n  CART_STATUS: 'core/interaction/CART_STATUS',\n  PRODUCT_CLICK: 'core/interaction/PRODUCT_CLICK',\n};\n","export const lastElement = (elem: Array<string> | string): string | undefined => {\n  return (Array.isArray(elem) || typeof elem === 'string') && elem.length ? elem[elem.length - 1] : undefined;\n};\n\nexport const emptyObject = (obj: any): boolean => Object.keys(obj || {}).length === 0;\n\nexport const undefinedCheck = (variable: any): boolean => typeof variable === 'undefined';\n\nexport const getDomainHost = (): string =>\n  window.location.hostname.split('.').reverse().splice(0, 2).reverse().join('.');\n\nexport const decodeBase64 = (s: string, pass: string): string => {\n  /* see http://stackoverflow.com/questions/2820249/base64-encoding-and-decoding-in-client-side-javascript\n    regular b64: AZaz09+/,  (, or =) for pass==1\n    type 1:  09azAZ-_,\n    type 2:  -_az09AZ,   DEFAULT\n  */\n  if ((s && typeof s === 'object') || (s && s[0]) === '{') {\n    // s must be an string to be decrypted\n    return s;\n  }\n  const e: any = {};\n  const AZ = [65, 91];\n  const az = [97, 123];\n  const n09 = [48, 58];\n  const w = String.fromCharCode;\n  let z: string;\n  let i;\n  let j = 0;\n  let r = '';\n  // type = pass ? 0 : 2,\n  /* istanbul ignore next */\n  const n: any = pass ? [AZ, az, n09, 43, 47] : [45, 95, az, n09, AZ]; // type:0 or 2\n  /* istanbul ignore next */\n  const lenFlag = pass ? 0 : 2;\n\n  // map chars to ascii code\n  for (z in n) {\n    if (n[z] && typeof n[z] === 'object') {\n      for (i = n[z][0]; i < n[z][1]; i++) {\n        e[w(i)] = j++;\n      }\n    } else {\n      e[w(<number>n[z])] = j++;\n    }\n  }\n\n  for (i = lenFlag; i < s.length - lenFlag; i += 72) {\n    const o = s.substring(i, i + 72);\n    let b = 0;\n    let c;\n    let x;\n    let l = 0;\n    let d;\n    for (x = 0; x < o.length; x++) {\n      c = e[o.charAt(x)];\n      b = (b << 6) + c;\n      l += 6;\n      while (l >= 8) {\n        d = (b >>> (l -= 8)) % 256;\n        if (d) r += w(d);\n      }\n    }\n  }\n  return r;\n};\n\nconst encode8 = (string: string, z?: string): string => {\n  string = string.replace(/\\r\\n/g, '\\n');\n  const f = String.fromCharCode;\n  let utftext = '';\n  let n;\n  let c;\n\n  for (n = 0; n < string.length; n++) {\n    c = string.charCodeAt(n);\n    utftext += z\n      ? /* istanbul ignore next */\n        c + z\n      : c < 128\n      ? f(c)\n      : /* istanbul ignore next */\n      c > 127 && c < 2048\n      ? f((c >> 6) | 192) + f((c & 63) | 128)\n      : f((c >> 12) | 224) + f(((c >> 6) & 63) | 128) + f((c & 63) | 128);\n  }\n  return utftext;\n};\n\nexport const encodeBase64 = (input: string, pass: string): string => {\n  /**\n   *\n   *  Base64 encode / decode\n   *  see http://stackoverflow.com/questions/246801/how-can-you-encode-a-string-to-base64-in-javascript#246813\n   *  also encrypted -AliM\n   **/\n  if (input && typeof input === 'object') {\n    input = JSON.stringify(input);\n  }\n  const chr = [];\n  const enc = [];\n  let i = 0;\n  let j;\n  let k;\n  let i2 = 0;\n  let output = pass ? '' : '1,';\n  const f = String.fromCharCode;\n\n  input = encode8(input);\n\n  while (i < input.length) {\n    for (j = 0; j < 3; j++) chr[j] = input.charCodeAt(i++);\n\n    enc[0] = chr[0] >> 2;\n    enc[1] = ((chr[0] & 3) << 4) | (chr[1] >> 4);\n    enc[2] = ((chr[1] & 15) << 2) | (chr[2] >> 6);\n    enc[3] = chr[2] & 63;\n\n    if (isNaN(chr[1])) enc[2] = enc[3] = 64;\n    else if (isNaN(chr[2])) enc[3] = 64;\n\n    for (j = 0; j < 4; j++) {\n      k = enc[j];\n      if (pass === '1')\n        // regular base64\n        output += k < 26 ? f(k + 65) : k < 52 ? f(k + 71) : k < 62 ? f(k - 4) : '+/,'.charAt(k - 62);\n      // Aa0 [[65,91],[97,123],[48,58]]\n      else {\n        if (pass && k < 64) {\n          // adding password\n          k = k ^ pass.charCodeAt(i2 % pass.length) % 64;\n          i2++;\n        }\n        output += k < 10 ? f(k + 48) : k < 36 ? f(k + 87) : k < 62 ? f(k + 29) : '-_,'.charAt(k - 62); // 0aA for 1,\n      }\n    }\n  }\n  return output;\n};\n\nexport const digit2string = (i: number): string => {\n  // 0-9 -> 0-9; 10-35 > a-z; 36-61 -> A-Z\n  return String.fromCharCode(i < 10 ? i + 48 : i < 36 ? i + 87 : i + 29);\n};\n\nexport const decodeURIComponent = (x: string) => {\n  return window.decodeURIComponent(x);\n};\n\nexport const jsonParse = (obj: string) => {\n  try {\n    return JSON.parse(obj);\n  } catch (e) {\n    return obj;\n  }\n};\n","import { getDomainHost } from './utils/utils';\n\nexport const THREE_YEARS = 1800000;\nexport const TIME = Date.now();\nexport const DOMAIN_ROOT = getDomainHost();\nexport const DEVICE = 'pc';\n","const SDKConfig: any = {\n  stagingApiDomain: 'https://api-staging.rfksrv.com',\n  uatApiDomain: 'https://api-uat.rfksrv.com',\n  prodApiDomain: 'https://api.rfksrv.com',\n  apiKey: '',\n  customerKey: '',\n  tokenPath: '/account/1/access-token',\n  legacySearchPath: '/search-rec/{{key}}/3',\n  legacyEventPath: '/event/{{key}}/1',\n  env: 'prod',\n  serviceHost: '',\n  searchPath: '/api/search-rec/3',\n  eventPath: '/api/event/1',\n  useToken: false,\n  userId: null,\n  debug: false,\n};\n\nexport const setConfig = (key: string, value: string | undefined | boolean): void => {\n  // eslint-disable-next-line no-prototype-builtins\n  if (SDKConfig.hasOwnProperty(key)) {\n    SDKConfig[key] = value;\n  } else {\n    console.warn(`${key} is not a valid configuration property.`);\n  }\n};\n\nexport const getConfigProperty = (key: string): string => {\n  return SDKConfig[key] || null;\n};\n\nexport const getServiceConfig = (): any => {\n  if (SDKConfig.useToken) {\n    return {\n      apiDomain: SDKConfig[`${SDKConfig.env}ApiDomain`],\n      searchPath: SDKConfig.legacySearchPath.replace('{{key}}', SDKConfig.customerKey),\n      eventPath: SDKConfig.legacyEventPath.replace('{{key}}', SDKConfig.customerKey),\n      useToken: SDKConfig.useToken,\n      tokenPath: SDKConfig.tokenPath,\n      apiKey: SDKConfig.apiKey,\n      customerKey: SDKConfig.customerKey,\n      debug: SDKConfig.debug,\n    };\n  } else {\n    return {\n      apiDomain: SDKConfig.serviceHost,\n      searchPath: SDKConfig.searchPath,\n      useToken: SDKConfig.useToken,\n      customerKey: SDKConfig.customerKey,\n      eventPath: SDKConfig.eventPath,\n      debug: SDKConfig.debug,\n    };\n  }\n};\n","import { decodeBase64, encodeBase64, decodeURIComponent } from './utils';\nimport { DOMAIN_ROOT } from '../constants';\nimport IStorage from './IStorage';\n\nexport default class CookieHandler implements IStorage {\n  cachedCookies: any = {};\n\n  protected isBase64(str: string): boolean {\n    // str.indexOf('0!') === 0 means that starts with 0!\n    if (str) {\n      return str.indexOf('0!') === 0;\n    }\n    return false;\n  }\n\n  protected decodeCookieValue(str: string): string {\n    let tmpValue = decodeURIComponent(str);\n    tmpValue = this.isBase64(tmpValue) ? decodeBase64(tmpValue.substr(2), '1') : tmpValue;\n    return tmpValue;\n  }\n\n  protected getCookieValue(content: string, cookieName: string): any {\n    const tmpValue = content.substr(cookieName.length + 1, content.length);\n    if (tmpValue) {\n      return this.decodeCookieValue(tmpValue);\n    }\n    return '';\n  }\n\n  protected getCookieFromBrowser(cookieName: string): any {\n    const rawCookies = document.cookie.split('; ');\n    for (let i = 0; i < rawCookies.length; i++) {\n      if (rawCookies[i].substr(0, cookieName.length) === cookieName) {\n        const newValue = this.getCookieValue(rawCookies[i], cookieName);\n        this.cachedCookies[cookieName] = newValue;\n        return newValue;\n      }\n    }\n    return '';\n  }\n\n  protected setCookieInBrowser(name: string, value: any, milliseconds: number, base64: boolean): void {\n    const exdate = new Date();\n    let newValue = base64 && value ? '0!' + encodeBase64(value, '1').replace(/,/g, '~') : encodeURIComponent(value); // base64 encoded\n    exdate.setMilliseconds(exdate.getMilliseconds() + milliseconds);\n    newValue += `;domain=${DOMAIN_ROOT};path=/;`;\n    newValue += !milliseconds ? '' : `;expires=${exdate.toUTCString()}`;\n    newValue += ';secure;SameSite=None;';\n    document.cookie = `${name}=${newValue}`;\n  }\n\n  protected removeCookieFromBrowser(name: string): void {\n    document.cookie = `${name}=;domain=${DOMAIN_ROOT};path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;secure;SameSite=None`;\n  }\n\n  protected removeCachedCookie(name: string): void {\n    if (this.cachedCookies[name]) {\n      delete this.cachedCookies[name];\n    }\n    this.removeCookieFromBrowser(name);\n  }\n\n  set(key: string, value: any, expire: number, encode: boolean): void {\n    if (value) {\n      const newValue = typeof value === 'object' ? JSON.stringify(value) : value;\n      this.cachedCookies[key] = newValue;\n      this.setCookieInBrowser(key, newValue, expire, encode);\n    } else {\n      this.removeCachedCookie(key);\n    }\n  }\n\n  get(key: string): any {\n    if (this.cachedCookies[key]) {\n      return this.cachedCookies[key];\n    }\n    const cookieValue = this.getCookieFromBrowser(key);\n    this.cachedCookies[key] = cookieValue;\n    return cookieValue;\n  }\n\n  remove(key: string): void {\n    this.removeCachedCookie(key);\n  }\n\n  protected getCookiesFromBrowser(): any {\n    const cookies = document.cookie.split(';');\n    let cookieValue;\n    const response: { [key: string]: any } = {};\n    for (let i = 0; i < cookies.length; i++) {\n      // move this check up to avoid the\n      // regex check if it is not necessary\n      if (cookies[i].substr(0, 4).indexOf('__r') >= 0) {\n        cookieValue = cookies[i].match(/\\s*([^=]*)=(.*)/);\n        /* istanbul ignore next else */\n        if (cookieValue && cookieValue.length > 2) {\n          const newValue = this.decodeCookieValue(cookieValue[2]);\n          response[cookieValue[1]] = newValue;\n          this.cachedCookies[cookieValue[1]] = newValue;\n        }\n      }\n    }\n    return response;\n  }\n\n  protected getAllCookies(): Array<any> {\n    return this.getCookiesFromBrowser();\n  }\n\n  protected clearCache(): void {\n    this.cachedCookies = {};\n  }\n\n  clearAll(): void {\n    const cookies = Object.keys(this.getAllCookies()); // don't get cookies that aren't rfk\n    this.clearCache();\n    for (let i = 0; i < cookies.length; i++) {\n      this.removeCachedCookie(cookies[i]);\n    }\n  }\n}\n","import IStorage from './IStorage';\n\nexport default class LocalStorageHandler implements IStorage {\n  clearAll(): void {\n    Object.keys(localStorage)\n      .filter((x) => {\n        return x.substring(0, 3) === '__r';\n      })\n      .forEach((x) => {\n        localStorage.removeItem(x);\n      });\n  }\n\n  set(key: string, value: any, expiry: number): void {\n    const data = {\n      v: value,\n      tm: new Date().getTime() || 0,\n      tx: expiry,\n    };\n    if (typeof value !== 'undefined') {\n      localStorage.setItem(key, JSON.stringify(data));\n    } else {\n      localStorage.removeItem(key);\n    }\n  }\n\n  get(key: string): any {\n    /* istanbul ignore next */\n    const ctime = new Date().getTime() || 0;\n    let storageData = JSON.parse(<string>localStorage.getItem(key));\n    if (storageData.tx && ctime - storageData.tm > storageData.tx) {\n      // remove expired namespace\n      localStorage.removeItem(key); // update local storage\n      storageData = undefined;\n    }\n    return storageData && storageData.v;\n  }\n\n  remove(key: string): void {\n    localStorage.removeItem(key);\n  }\n}\n","import IStorage from './IStorage';\nimport CookieHandler from './cookieHandler';\nimport LocalStorageHandler from './localStorageHandler';\nimport { jsonParse } from './utils';\n\nconst DEFAULT_EXPIRY = 300000;\nlet storageStrategy: IStorage;\n\nclass RfkStorage {\n  static init(useStorage: boolean) {\n    if (useStorage && window.localStorage) {\n      storageStrategy = new LocalStorageHandler();\n    } else {\n      storageStrategy = new CookieHandler();\n    }\n  }\n\n  static set(key: string, value: any, encode: boolean = false, expire?: number): void {\n    storageStrategy.set(key, value, expire || DEFAULT_EXPIRY, encode);\n  }\n\n  static get(key: string): any {\n    let storageValue = storageStrategy.get(key);\n    const parsedValue = storageValue ? jsonParse(storageValue) : {};\n    if (storageValue === 'undefined') {\n      storageValue = undefined;\n    }\n    return storageValue && parsedValue ? parsedValue : storageValue;\n  }\n\n  static remove(key: string): void {\n    storageStrategy.remove(key);\n  }\n}\n\nexport default RfkStorage;\n","import { THREE_YEARS, TIME, DEVICE, DOMAIN_ROOT } from '../constants';\nimport { getServiceConfig, getConfigProperty } from '../config';\nimport RfkStorage from '../utils/storage';\nimport { lastElement, digit2string } from '../utils/utils';\n\n// exported for test purposes\nexport const SITE_INFO: any = {};\n\nconst getDomainKey = () => {\n  const customerKey = String(getConfigProperty('customerKey'));\n  const keyParts = customerKey.split('-');\n  return (keyParts.length === 2 && keyParts[1]) || '';\n};\n\nconst getDomainUid = (): string => {\n  let uid = RfkStorage.get('__ruid');\n  if (uid) {\n    return uid;\n  }\n\n  const uidx = 'xx-xx-4x-1' + DEVICE[0] + '-'; // pattern of prefix to user id\n  uid = uidx.replace(/[x]/g, () => digit2string((Math.random() * 36) | 0));\n  for (let i = 0; i < 5; i++) {\n    uid += ('0000' + ((Math.random() * 1679615) | 0).toString(36)).slice(-4);\n  }\n  const value = getDomainKey() + '-' + uid + '-' + TIME;\n  RfkStorage.set('__ruid', value, false);\n  return value;\n};\n\nconst generateNewUTMA = (utma: any, isNewSession: number): any => {\n  const utmaAttributes = utma.split('.');\n  if (utmaAttributes.length > 3) {\n    if (isNewSession) {\n      // update previous time, current time, and visit count\n      utmaAttributes[1] = utmaAttributes[2]; // replace previous time with current time\n      utmaAttributes[2] = TIME; // update current time\n      utmaAttributes[3] = utmaAttributes[3] * 1 + 1; // update visit count\n    }\n    if (utmaAttributes.length === 4) {\n      // without page view count\n      utmaAttributes[4] = 1;\n    }\n    if (utmaAttributes.length === 5) {\n      // without visit page count\n      utmaAttributes[5] = 1;\n    }\n    utmaAttributes[4] = utmaAttributes[4] * 1 + 1; // update page view count\n    utmaAttributes[5] = 1 + (isNewSession ? 0 : utmaAttributes[5] * 1); // update visit page count\n    // update utma\n    utma = utmaAttributes.join('.');\n  }\n  return utma;\n};\n\nconst getUTMA = (): any => {\n  let isNewSession = 0;\n  let utma = RfkStorage.get('__rutma');\n  const utmb = RfkStorage.get('__rutmb');\n  if (!utmb) {\n    RfkStorage.set('__rutmb', getDomainKey(), false, THREE_YEARS);\n    isNewSession = 1;\n  }\n  if (utma) {\n    utma = generateNewUTMA(utma, isNewSession);\n  } else {\n    // uid.previousSessionTime.currentSessionTime.visit-count.page-count.visit-page-count\n    // if rfkP.uid is available, it will be used otherwise create a new one\n    // _time should be set when the sdk starts loading\n    utma = `${getDomainUid()}.${TIME}.${TIME}.1.1.1`;\n  }\n  RfkStorage.set('__rutma', utma, false, THREE_YEARS);\n  return utma;\n};\n\nexport const getSiteInfo = () => {\n  const { customerKey } = getServiceConfig();\n  SITE_INFO.domainHashCkey = customerKey.match(/(.*)-(\\d*)/)[2]; // domain hash from ckey\n  SITE_INFO.domainHash = SITE_INFO.domainHashCkey; // domain_hash needs to be set before utma\n  SITE_INFO.domainRoot = DOMAIN_ROOT; // domain root\n  const utma = getUTMA(); // to be after domain_hash\n  const utmaParts = utma.split('.');\n  SITE_INFO.uid = utmaParts[0];\n  SITE_INFO.usetLastDigit = lastElement(utmaParts[0]); // user (last) digit of cookie creation time\n  SITE_INFO.previousSessionStartTime = parseInt(utmaParts[1]); // previousSessionStartTime\n  SITE_INFO.currentSessionStartTime = parseInt(utmaParts[2]); // currentSessionStartTime\n  SITE_INFO.visitCount = parseInt(utmaParts[3]); // visitCount\n  SITE_INFO.pageViewCount = parseInt(utmaParts[4]); // pageViewCount\n  SITE_INFO.visitPageCount = parseInt(utmaParts[5]); // visit page count\n  SITE_INFO.utma = utma; // old one, we have to update backend TODO:xxx\n  return SITE_INFO;\n};\n\nexport const getUserId = () => {\n  const customerUserId = getConfigProperty('userId');\n  if (customerUserId) {\n    return { user_id: customerUserId };\n  }\n  const { uid } = getSiteInfo();\n  return {\n    uuid: uid,\n  };\n};\n","export const getTokenHeaders = (apiKey: string): any => {\n  const myHeaders = new Headers();\n  myHeaders.append('Content-Type', 'application/json');\n  myHeaders.append('Access-Control-Request-Headers', 'authorization,content-type');\n  myHeaders.append('Access-Control-Request-Method', 'POST');\n  myHeaders.append('x-api-key', apiKey);\n  return myHeaders;\n};\n\nexport const getAPIHeaders = (accessToken: string | null): any => {\n  const myHeaders = new Headers();\n  myHeaders.append('Content-Type', 'application/json');\n  myHeaders.append('Access-Control-Request-Headers', 'authorization,content-type');\n  myHeaders.append('Access-Control-Request-Method', 'POST');\n  if (accessToken) {\n    myHeaders.append('Authorization', `Bearer ${accessToken}`);\n  }\n  return myHeaders;\n};\n","import { getServiceConfig } from '../config';\nimport { getTokenHeaders } from './headers';\n\nlet currentAccessToken: string | null = null;\nlet accessTokenRequestedAt: number | null = null;\nlet currentAccessTokenExpiry: number | null = null;\n\nexport const checkToken = async () => {\n  if (currentAccessToken && accessTokenRequestedAt && currentAccessTokenExpiry) {\n    const now = new Date().getTime();\n    if (now - accessTokenRequestedAt <= currentAccessTokenExpiry) {\n      return currentAccessToken;\n    }\n  }\n  try {\n    const { tokenPath, apiKey, apiDomain } = getServiceConfig();\n    const response = await fetch(`${apiDomain}${tokenPath}`, {\n      method: 'POST',\n      body: JSON.stringify({ scope: ['search-rec', 'event'] }),\n      headers: getTokenHeaders(apiKey),\n    });\n    const data = await response.json();\n    const { accessToken, accessTokenExpiry } = data;\n    accessTokenRequestedAt = new Date().getTime();\n    currentAccessToken = accessToken;\n    currentAccessTokenExpiry = accessTokenExpiry;\n    return currentAccessToken;\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const resetToken = () => {\n  currentAccessToken = null;\n  accessTokenRequestedAt = null;\n  currentAccessTokenExpiry = null;\n};\n","import { getConfigProperty } from '../config';\n\nconst WINDOW = window as any;\n\nclass Cache {\n  protected cache: any;\n  protected name: string;\n\n  constructor(name: string) {\n    this.name = name;\n    this.cache = {};\n    if (!WINDOW.RFK_CACHE) {\n      WINDOW.RFK_CACHE = {};\n    }\n    WINDOW.RFK_CACHE[name] = this.cache;\n  }\n\n  /**\n   * Example String(this.hashKey(JSON.stringify(this.sortObjectKeys(obj))))\n   * @param key\n   * @protected\n   */\n  protected hashKey(key: string): number {\n    let hash = 0;\n    let i;\n    let chr;\n    let len;\n\n    for (i = 0, len = key.length; i < len; i++) {\n      chr = key.charCodeAt(i);\n      hash = (hash << 5) - hash + chr;\n      hash |= 0;\n    }\n    return hash;\n  }\n\n  protected sortObjectKeys(obj: any) {\n    // TODO: change this for god sake\n    if (obj === null || obj === undefined) {\n      return '';\n    }\n    if (typeof obj !== 'object') {\n      // it is a primitive: number/string (in an array)\n      return obj;\n    }\n    return Object.keys(obj)\n      .sort()\n      .reduce((acc, key) => {\n        if (Array.isArray(obj[key])) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          acc[key] = obj[key].map((value) => this.sortObjectKeys(value));\n        } else if (typeof obj[key] === 'object') {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          acc[key] = this.sortObjectKeys(obj[key]);\n        } else {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          acc[key] = obj[key];\n        }\n        return acc;\n      }, {});\n  }\n\n  createKey(obj: any): string {\n    const key = JSON.stringify(this.sortObjectKeys(obj));\n    if (!getConfigProperty('debug')) {\n      return String(this.hashKey(key));\n    } else {\n      console.debug('SDK ::: cache ::: createKey', obj);\n    }\n    return key;\n  }\n\n  has(key: string): boolean {\n    return key in this.cache;\n  }\n\n  get(key: string): any {\n    return this.cache[key];\n  }\n\n  set(key: string, value: any): any {\n    this.cache[key] = value;\n  }\n\n  all(): any {\n    return this.cache;\n  }\n\n  clear() {\n    this.cache = {};\n    (window as any).RFK_CACHE[this.name] = this.cache;\n  }\n\n  getName() {\n    return this.name;\n  }\n}\n\nexport default Cache;\n","import { getServiceConfig } from '../config';\nimport { getAPIHeaders } from './headers';\nimport { checkToken, resetToken } from './tokenManager';\nimport Cache from './cache';\n\nconst cache: Cache = new Cache('api-adapter');\n\nexport interface FetchOptions {\n  cache?: boolean;\n}\n\nconst DEFAULT_FETCH_OPTIONS = {\n  cache: true,\n};\n\nexport default class RFKApiAdapter {\n  static async trackEvent(params: any): Promise<any> {\n    console.debug('SDK ::: trackEvent ', params);\n    const { useToken, apiDomain, eventPath } = getServiceConfig();\n    const token: string | null = useToken ? await checkToken() : null;\n    try {\n      const response = await fetch(`${apiDomain}${eventPath}`, {\n        method: 'POST',\n        headers: getAPIHeaders(token),\n        body: JSON.stringify(params),\n        // mode: 'no-cors', // @TODO: Events API should have CORS disabled\n        keepalive: true,\n      });\n      return await response.json();\n    } catch (e) {\n      console.error(e);\n      console.error('There was a problem on the service call');\n      return null;\n    }\n  }\n\n  static async callApiWithoutCache(fetchOptions: any): Promise<any> {\n    try {\n      const { url, ...options } = fetchOptions;\n      const response = await fetch(url, {\n        ...options,\n        body: JSON.stringify(options.body),\n      });\n      return await response.json();\n    } catch (e) {\n      console.error(e);\n      console.error('There was a problem on the service call');\n      return null;\n    }\n  }\n\n  static async callApiWithCache(fetchOptions: any): Promise<any> {\n    const cacheKey = cache.createKey(fetchOptions);\n    if (cache.has(cacheKey)) {\n      return cache.get(cacheKey);\n    }\n    const response = await RFKApiAdapter.callApiWithoutCache(fetchOptions);\n    cache.set(cacheKey, response);\n    return response;\n  }\n\n  static async callApi(params: any, options: FetchOptions = DEFAULT_FETCH_OPTIONS): Promise<any> {\n    console.debug('SDK ::: callApi ', params);\n    const { useToken, apiDomain, searchPath } = getServiceConfig();\n    const token = useToken ? await checkToken() : null;\n    const fetchOptions = {\n      url: `${apiDomain}${searchPath}`,\n      method: 'POST',\n      headers: getAPIHeaders(token),\n      body: params,\n    };\n    if (options.cache) {\n      return RFKApiAdapter.callApiWithCache(fetchOptions);\n    }\n    return RFKApiAdapter.callApiWithoutCache(fetchOptions);\n  }\n\n  static clearCache(): void {\n    cache.clear();\n    resetToken();\n  }\n}\n","import { getUserId } from '../api/siteInfo';\nimport RFKApiAdapter from '../api/apiAdapter';\nimport { undefinedCheck } from '../utils/utils';\n\nexport const track = async (params: any): Promise<any> => {\n  if (params.data) {\n    params.data = {\n      ...params.data,\n      ...getUserId(),\n      t: Date.now(),\n    };\n    return await RFKApiAdapter.trackEvent(params);\n  }\n  throw new Error('eventUtils.track: params.data is not defined.');\n};\n\nexport interface ProductEventModel {\n  sku: string;\n  quantity?: number;\n  price?: number;\n  // eslint-disable-next-line camelcase\n  priceOriginal?: number;\n}\n\nexport const validateProducts = (products: Array<ProductEventModel>): boolean => {\n  return !products.find(\n    ({ sku, quantity, price }) => undefinedCheck(sku) || undefinedCheck(quantity) || undefinedCheck(price),\n  );\n};\n\nexport interface UserEventModel {\n  email: string;\n  id: string;\n  emailId?: string;\n}\n\nexport const validateUser = ({ email, id }: UserEventModel): boolean => !undefinedCheck(email) && !undefinedCheck(id);\n\nexport interface CheckoutModel {\n  orderId: string;\n  total: number;\n  subtotal: number;\n}\n\nexport const validateCheckout = ({ orderId, total, subtotal }: CheckoutModel): boolean =>\n  !undefinedCheck(orderId) && !undefinedCheck(total) && !undefinedCheck(subtotal);\n","import {\n  CheckoutModel,\n  ProductEventModel,\n  track,\n  UserEventModel,\n  validateCheckout,\n  validateProducts,\n  validateUser,\n} from './eventUtils';\n\n/**\n * @desc Sends add to cart event.\n * @param products Array: Every product must contain the following fields:\n * - sku String: product SKU\n * - quantity int: amount of products of sku added\n * - price float: price of the product\n * @param page String: Use values like \"home\" if a2c event happened on homepage\n *   \"pdp\" if a2c event happened on product page\n *   \"category\" if a2c event happened on category page\n *   \"cart\" if a2c event happened on cart page\n *   \"qview\" if its added from quick view modal\n * @param context\n * @returns {Promise<*>}\n */\nexport const trackAddToCart = async (products: Array<ProductEventModel>, page: string, context?: any): Promise<any> => {\n  if (validateProducts(products)) {\n    const params = {\n      data: {\n        type: 'a2c',\n        name: page,\n        value: {\n          products: products.map(({ sku, quantity, price, priceOriginal }) => ({\n            sku,\n            quantity,\n            price,\n            price_original: priceOriginal,\n          })),\n          ...(context ? { context } : []),\n        },\n      },\n    };\n    return track(params);\n  }\n  return Promise.reject(new Error('A field is missing on one or more of the products provided.'));\n};\n\n/**\n * @desc: Refer to https://docs.google.com/document/d/19YYYB0X3CucEcyaB7kY0mn2QVq1P72nXF_0F0_9-xag/edit#heading=h.md9990tgwbwp\n * Tracks cart status.\n * Receives an array of products with the following shape:\n * { }products :[\n * { \"sku\": \"191258\", \"fitment\": { \"ids\": [\"3333\"]}},\n * { \"sku\": \"2402\", \"fitment\": { \"ids\": [\"3333\"]}  }\n * ]}\n * where fitment field is only required for fitment customers\n * Receives an array of locales (optional)\n * \"locale\": {\n * \"lg\": \"language code 2 letters, lowercase, e.g. en\",\n * \"co\": \"country code, 2 letters, lowercase, e.g. fr,\n * \"cy\": \"currency code, 3 letters, lowercase, e.g. eur\"\n * }\n *\n * @param products Array\n * @param context\n * @returns {Promise<*>}\n */\nexport const trackStatusCart = async (products: Array<ProductEventModel>, context?: any): Promise<any> => {\n  if (validateProducts(products)) {\n    const params = {\n      data: {\n        type: 'status',\n        name: 'cart',\n        value: {\n          products: products.map(({ sku, quantity, price, priceOriginal }) => ({\n            sku,\n            quantity,\n            price,\n            price_original: priceOriginal,\n          })),\n          ...(context ? { context } : []),\n        },\n      },\n    };\n    return track(params);\n  }\n  return Promise.reject(new Error('A field is missing on one or more of the products provided.'));\n};\n\n/**\n * @desc: From documentation:\n * This event must be sent when a user logs in to the system.\n * This event is used in linking real user id to a Reflektion cookie so it would help\n * in more advanced user personalization use cases like cross device personalization.\n * @param user Object: Object with the following shape\n * {\n * \"id\": \"user-1234\", // required\n * \"email\": \"Abc.Def@email.com\", // required\n * \"eid\": \"hash_of_email\",\n * \"fbid\": \"facebook_id\",\n * // Optional. User's billing address\n * \"address\": {\n *    \"address_line_1\": \"123 Main Street\",\n *    \"address_line_2\": \"apartment 123\",\n *    \"state\": \"CA\",\n *    \"zip\": \"90210\",\n *    \"country\": \"USA\"\n * },\n * // Optional\n * \"gender\": \"female\",\n * \"groups\": [\"group1\", \"group2\"],\n * \"addn_attributes\": {\n *   \"email_subscriber\": \"True\",\n *   \"preferred_sizes\": [\"S\", \"M\", \"32W\", \"30L\"],\n *   \"home_store_code\": \"4321\"\n * }\n * @param context\n * @returns {Promise<*>}\n */\nexport const trackUserLogin = async (user: UserEventModel, context?: any) => {\n  if (validateUser(user)) {\n    const params = {\n      data: {\n        type: 'user',\n        name: 'login',\n        value: {\n          user: {\n            id: user.id,\n            email: user.email,\n            eid: user.emailId,\n          },\n          ...(context ? { context } : []),\n        },\n      },\n    };\n    return track(params);\n  }\n  return Promise.reject(new Error('User information is not correct'));\n};\n\n/**\n * @desc sent when a user views a product on the site.\n * @param sku String : sku of the product.\n * @param fitment Object\n * @param context\n * @returns {Promise<*>}\n */\nexport const trackPDPView = async (sku: string, fitment = null, context?: any): Promise<any> => {\n  if (sku) {\n    const params = {\n      data: {\n        type: 'view',\n        name: 'pdp',\n        value: {\n          products: [\n            {\n              sku,\n              ...(fitment ? { fitment } : []),\n            },\n          ],\n          ...(context ? { context } : []),\n        },\n      },\n    };\n    return track(params);\n  }\n  return Promise.reject(new Error('sku not provided.'));\n};\n\n/**\n * @desc Event contains details of the purchase made by the user on the site.\n * It should include checkout details, individual products that were purchased and its details.\n * @param products Array: Same than add to cart\n * @param user Object: same than user login\n * @param checkout Object\n * Example: \"checkout\": {\n * \"order_id\": \"1234\",\n * \"subtotal\": 39.97,\n * \"total\": 50.96\n * },\n * @param context\n * @returns {Promise<*>}\n */\nexport const trackOrderConfirm = async (\n  products: Array<ProductEventModel>,\n  user: UserEventModel,\n  checkout: CheckoutModel,\n  context?: any,\n): Promise<any> => {\n  if (!validateProducts(products)) {\n    return Promise.reject(new Error('A field is missing on one or more of the products provided, event not sent.'));\n  }\n  if (!validateUser(user)) {\n    return Promise.reject(new Error('User information is not correct, event not sent'));\n  }\n  if (!validateCheckout(checkout)) {\n    return Promise.reject(new Error('Checkout information is not correct, event not sent.'));\n  }\n  const params = {\n    data: {\n      type: 'order',\n      name: 'confirm',\n      value: {\n        products: products.map(({ sku, quantity, price, priceOriginal }) => ({\n          sku,\n          quantity,\n          price,\n          price_original: priceOriginal,\n        })),\n        user: {\n          id: user.id,\n          email: user.email,\n          eid: user.emailId,\n        },\n        checkout: {\n          order_id: checkout.orderId,\n          total: checkout.total,\n          subtotal: checkout.subtotal,\n        },\n        ...(context ? { context } : []),\n      },\n    },\n  };\n  return track(params);\n};\n\n/**\n * Page view event. Fire programatically when the sdk initializes.\n * @param context: any. Context of the page, should have information like the uri, referrer and title.\n */\nexport const trackPageView = async (context?: any): Promise<any> => {\n  const params = {\n    data: {\n      type: 'view',\n      name: 'page',\n      value: {\n        ...(context ? { context } : []),\n      },\n    },\n  };\n  return track(params);\n};\n","export function isObject(item: any): boolean {\n  return item && typeof item === 'object' && !Array.isArray(item);\n}\n","import { isObject } from './is';\n\nexport function mergeDeep(target: any, source: any, { mutate = false }: { mutate?: boolean } = {}): any {\n  const output = mutate ? target : Object.assign({}, target);\n  if (isObject(target) && isObject(source)) {\n    Object.keys(source).forEach((key) => {\n      if (isObject(source[key])) {\n        if (!(key in target)) Object.assign(output, { [key]: source[key] });\n        else output[key] = mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(output, { [key]: source[key] });\n      }\n    });\n  }\n  return output;\n}\n","import { RFKID, WidgetData, WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport { mergeDeep } from '@rfk-sdk/common/lib/merge';\nimport WidgetController from './controller/widget';\nimport { WidgetConfig, WidgetTypeConfig } from './types';\n\nexport type WidgetTypesMapping = {\n  [key in WidgetDataType]?: WidgetTypeConfig;\n};\nexport type WidgetConfigMapping = {\n  [rfkId: string]: WidgetConfig;\n};\n\nexport default {\n  typesConfigMapping: {} as WidgetTypesMapping,\n  configMapping: {} as WidgetConfigMapping,\n  setTypes(mapping: WidgetTypesMapping): void {\n    Object.assign(this.typesConfigMapping, mapping);\n  },\n  getType(rfkId: RFKID): WidgetDataType | undefined {\n    const { type } = this.configMapping[rfkId] || {};\n    return type;\n  },\n  set(rfkId: RFKID, config: WidgetConfig): void {\n    this.configMapping[rfkId] = config;\n  },\n  get(rfkId: RFKID): WidgetConfig | undefined {\n    const widgetConfig = this.configMapping[rfkId];\n    if (!widgetConfig) {\n      return undefined;\n    }\n    const { Component: TypeComponent, Controller: TypeController, options: typeOptions } = this.getForType(rfkId) || {};\n    const { Component = TypeComponent, Controller = TypeController, options } = widgetConfig;\n\n    return {\n      ...widgetConfig,\n      Component,\n      Controller,\n      options: options ? mergeDeep(typeOptions || {}, options) : typeOptions,\n    };\n  },\n  getForType(rfkId: RFKID): WidgetTypeConfig | undefined {\n    const type = this.getType(rfkId);\n    return type ? this.typesConfigMapping[type] : undefined;\n  },\n  getOrCreate(rfkId: RFKID): WidgetConfig {\n    if (!this.configMapping[rfkId]) {\n      this.configMapping[rfkId] = {} as WidgetConfig;\n    }\n    return this.configMapping[rfkId];\n  },\n  getMetadata(rfkId: RFKID): WidgetData | undefined {\n    const { metadata } = this.get(rfkId) || {};\n    return metadata;\n  },\n  setMetadata(rfkId: RFKID, metadata: WidgetData): void {\n    Object.assign(this.getOrCreate(rfkId), { metadata });\n    this.setType(rfkId, metadata.type);\n  },\n  updateMetadata(rfkId: RFKID, metadata: WidgetData): void {\n    mergeDeep(this.getOrCreate(rfkId), { metadata }, { mutate: true });\n    this.setType(rfkId, metadata.type);\n  },\n  setType(rfkId: RFKID, type: WidgetDataType) {\n    if (!this.getType(rfkId)) {\n      Object.assign(this.getOrCreate(rfkId), { type });\n    }\n  },\n  update(rfkId: RFKID, config: WidgetConfig): void {\n    mergeDeep(this.getOrCreate(rfkId), config, { mutate: true });\n  },\n  getController(rfkId: RFKID): typeof WidgetController | undefined {\n    const { Controller } = this.get(rfkId) || {};\n    return Controller;\n  },\n};\n","export type RFKID = string;\n\nexport enum WidgetDataType {\n  RECOMMENDATION = 'recommendation',\n  PREVIEW_SEARCH = 'preview_search',\n  SEARCH_RESULTS = 'content_grid',\n  CONTENT_BLOCK = 'content_block',\n  HTML_BLOCK = 'html_block',\n  BANNER = 'banner',\n  SEO = 'seo',\n  DISCOVER = 'discover',\n}\n\nexport type WidgetData = {\n  rfkId: RFKID;\n  type: WidgetDataType;\n  variationId: string;\n};\n","/* eslint-disable camelcase */\nimport { RFKID, WidgetDataType } from '../widget';\n\nexport enum DeviceType {\n  DESKTOP = 'pc',\n  MOBILE = 'mobile',\n  TABLET = 'tablet',\n}\n\nexport enum SectionType {\n  JS = 'js',\n  HTML = 'html',\n  CSS = 'css',\n}\n\nexport enum AppType {\n  BROWSER = 'browser',\n  WEBVIEW = 'webview',\n  NATIVE = 'native',\n}\n\nexport enum WidgetUsedIn {\n  PAGE = 'page',\n  COMMON_ACROSS_PAGES = 'common_across_pages',\n}\n\nexport interface Item {\n  id: string;\n  in_content: string;\n  text: string;\n}\n\nexport interface PaginationInfo {\n  total_item?: number;\n  page_number?: number;\n  total_page?: number;\n  n_item?: number;\n}\n\nexport type Product = {\n  id?: string;\n  sku?: string;\n  name?: string;\n  price?: string;\n};\n\nexport type Category = {\n  ccid?: string;\n  category_id?: string;\n  name: string;\n};\n\nexport type Campaign = {\n  utm_campaign?: string;\n  utm_content?: string;\n  utm_medium?: string;\n  utm_source?: string;\n  utm_term?: string;\n};\n\nexport type HardFilter = {\n  activity?: Array<string>;\n  all_category_ids?: Array<string>;\n};\n\nexport type User = {\n  new_user?: boolean;\n  user_id?: string;\n  uuid?: string;\n  groups?: Array<string>;\n};\n\nexport type Geo = {\n  country?: string;\n  state?: string;\n  zip?: string;\n  ip?: string;\n};\n\nexport type Page = {\n  sku?: Array<string>;\n  referrer?: string;\n  all_category_ids?: Array<string>;\n};\n\nexport interface FacetItem extends Item {\n  count?: number;\n}\n\nexport type Facet = {\n  number_of_products?: number;\n  total?: number;\n  display_name?: string;\n  value: Array<FacetItem>;\n};\n\nexport type Facets = {\n  [key: string]: Facet;\n};\n\nexport type BrowserDevice = {\n  device?: DeviceType;\n  app_type?: AppType;\n};\n\nexport type BrowserUserAgent = {\n  user_agent?: string;\n};\n\nexport type Browser = BrowserDevice | BrowserUserAgent;\n\nexport type Content = {\n  product: {\n    total_item: number;\n    n_item: number;\n    value: Array<Product> | [];\n  };\n};\n\nexport type Widget = {\n  rfkid: RFKID;\n  type: WidgetDataType;\n  variation_id: string;\n  used_in: WidgetUsedIn;\n};\n\nexport type Store = {\n  id: string;\n};\n\nexport type ContextValue<T> = {\n  value: Array<T>;\n};\n\nexport type ContextValues = {\n  category?: ContextValue<Category>;\n  product?: ContextValue<Product>;\n  campaign?: Campaign;\n  hard_filter?: HardFilter;\n  user?: User;\n  geo?: Geo;\n  page?: Page;\n  store?: Store;\n  browser?: Browser;\n};\n\nexport type AppearanceTemplate = {\n  devices: {\n    [key in DeviceType]?: {\n      content: string;\n    };\n  };\n};\n\nexport type AppearanceVariable = {\n  valueType: string;\n  required: boolean;\n  expanded: boolean;\n  value: string;\n};\n\nexport enum SortChoiceOrder {\n  ASC = 'asc',\n  DESC = 'desc',\n}\n\nexport type SortChoice = {\n  label: string;\n  name: string;\n  order: SortChoiceOrder;\n};\n\nexport type Sort = {\n  choices: Array<SortChoice>;\n};\n\nexport type Appearance = {\n  templates: {\n    [key in SectionType]?: AppearanceTemplate;\n  };\n  js_names?: Array<string>;\n  css_names?: Array<string>;\n  html_names?: Array<string>;\n  variables?: {\n    [key: string]: AppearanceVariable;\n  };\n};\n\nexport interface CategorySuggestionItem extends Item {\n  url: string;\n}\n\nexport type Suggestion = {\n  category?: Array<CategorySuggestionItem>;\n  trending_category?: Array<CategorySuggestionItem>;\n  keyphrase?: Array<Item>;\n};\n\nexport type Query2Id = {\n  keyphrase: string;\n};\n\nexport type DiscoverFeatureChoiceItem = {\n  text_id?: string;\n  text?: string;\n  choice_id?: string;\n  selected?: boolean;\n};\n\nexport type DiscoverFeatureChoice = {\n  values: Array<DiscoverFeatureChoiceItem>;\n  label: string;\n};\n\nexport type DiscoverFeature = {\n  choices?: Array<DiscoverFeatureChoice>;\n};\n\nexport type Features = {\n  discover?: DiscoverFeature;\n};\n\nexport interface Result extends PaginationInfo {\n  context_values?: ContextValues;\n  widget: Widget;\n  appearance?: Appearance;\n  sort?: Sort;\n  autocomplete?: string;\n  suggestion?: Suggestion;\n  query2id?: Query2Id;\n  facet_names?: Array<string>;\n  facet?: Facets;\n}\n\ninterface Response extends Result {\n  url: string;\n  ts: number;\n  rid: string;\n  dt: number;\n  err?: number;\n  content?: Content;\n  features?: Features;\n  batch?: Array<Result>;\n}\n\ninterface KeyphraseItem {\n  text: string,\n  in_content: string,\n  id: string,\n}\n\ninterface CategoryItem extends KeyphraseItem{\n  url: string,\n}\n\ninterface PreviewSearchSuggestion {\n  trending_category: Array<CategoryItem>;\n  keyphrase?: Array<KeyphraseItem>;\n  category?: Array<CategoryItem>;\n}\n\nexport interface PreviewSearchResponse extends Response {\n  suggestion: PreviewSearchSuggestion\n}\n\nexport default Response;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport { DeviceType } from '@rfk-sdk/models/lib/searchRecApi/response';\n\nexport const DEVICES = [DeviceType.DESKTOP, DeviceType.MOBILE, DeviceType.TABLET];\n\nconst model: ModelConfig = {\n  name: 'Devices',\n  exportProperty: 'devices',\n  properties: {\n    devices: { type: 'array' } as ModelPropertyConfig<Array<DeviceType>>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport { SectionType } from '@rfk-sdk/models/lib/searchRecApi/response';\n\nexport const SECTIONS = [SectionType.HTML, SectionType.CSS, SectionType.JS];\n\nconst model: ModelConfig = {\n  name: 'Sections',\n  exportProperty: 'sections',\n  properties: {\n    sections: { type: 'array' } as ModelPropertyConfig<Array<SectionType>>,\n  },\n};\n\nexport default model;\n","export const getAtPath = (obj: any, input: Array<string | number> | string | undefined, defaultValue?: any): any => {\n  if (!input) {\n    return defaultValue;\n  }\n  if (typeof input === 'string') {\n    return obj[input];\n  }\n  const [loc, ...path] = input;\n  if (loc in obj) {\n    return (path.length ? getAtPath(obj[loc], path, defaultValue) : obj[loc]) || defaultValue;\n  }\n  return defaultValue;\n};\n\nconst removeValue = (obj: any, key: string | number): any => {\n  if (obj && obj[key]) {\n    delete obj[key];\n    return obj;\n  }\n  return obj;\n};\nexport const setAtPath = (obj: any, input: Array<string | number> | string | undefined, value: any): any => {\n  if (!input) {\n    return undefined;\n  }\n  if (typeof input === 'string') {\n    if (typeof value === 'undefined') {\n      return removeValue(obj, input);\n    }\n    return Object.assign(obj, { [input]: value });\n  }\n  const [loc, ...path] = input;\n  if (loc === undefined) {\n    return value;\n  }\n  const res = obj || (Number.isInteger(loc) ? [] : {});\n  const resValue = setAtPath(res[loc], path, value);\n  if (typeof resValue === 'undefined') {\n    return removeValue(obj, loc);\n  }\n  return Object.assign(res, { [loc]: resValue });\n};\n\n/*\nhttp://www.jstips.co/en/javascript/picking-and-rejecting-object-properties/\n */\nexport function pick(obj: any, keys: Array<string>) {\n  return keys.reduce(\n    (res, k) => (Object.hasOwnProperty.call(obj, k) ? setAtPath(res, [k], getAtPath(obj, k)) : res),\n    {},\n  );\n}\n\nexport function omit(obj: any, keys: Array<string | number>): any {\n  const newObj: any = {};\n  const objKeys = Object.keys(obj);\n  for (let i = 0; i < objKeys.length; i++) {\n    const key = objKeys[i];\n    if (keys.indexOf(key) === -1) {\n      newObj[key] = obj[key];\n    }\n  }\n\n  return newObj;\n}\n","export const toCamelCase = (prop: string) => {\n  const parts: string[] = prop.split('_');\n  return `${parts[0]}${parts\n    .slice(1)\n    .map((part) => part[0].toUpperCase() + part.slice(1))\n    .join('')}`;\n};\n\nexport const buildCamelCaseMethod = (prefix: string, prop: string, suffix: string = '') => {\n  const camelCase = toCamelCase(prop);\n  return `${prefix}${camelCase[0].toUpperCase() + camelCase.slice(1)}${suffix}`;\n};\n","import { mergeDeep, omit, pick } from '@rfk-sdk/common/lib';\nimport { getAtPath, setAtPath } from '@rfk-sdk/common/lib/misc';\nimport { ModelInstancePropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport interface Observable {\n  // eslint-disable-next-line no-use-before-define\n  addListeners(observer: Array<Observer>): void;\n\n  // eslint-disable-next-line no-use-before-define\n  addListener(observer: Observer): void;\n\n  onChange(key: string, value: any): void;\n}\n\nexport interface Observer {\n  onChange(observable: Observable, key: string, value: any): void;\n}\n\ntype Data = { [key: string]: any };\n\nexport type RequestDataProps<Type> = {\n  [Property in keyof Type]: ModelInstancePropertyConfig<any>;\n};\n\nexport default abstract class RequestData<Props> implements Observable {\n  protected listeners: Array<Observer> = [];\n  protected props: RequestDataProps<Props>;\n  protected data: Data = {};\n\n  set<Prop extends keyof Props>(\n    prop: Prop,\n    value: any,\n    key?: string,\n  ): RequestData<Props> {\n    if (prop in this.props) {\n      const propKey = this.getPropExportKey(prop, key);\n      const prevValue = this.get(prop, undefined);\n      if (prevValue !== value) {\n        const definition = this.props[prop];\n        if (typeof value === 'undefined') {\n          this.removeKey(definition.parent?.key as keyof Props, definition.keyPath[0]);\n        } else {\n          setAtPath(this.data, propKey, value);\n        }\n        this.onChange(prop as string, value);\n      }\n    }\n    return this;\n  }\n\n  get<Prop extends keyof Props>(\n    prop: Prop,\n    defaultValue?: any,\n    key?: string,\n  ): RequestData<Props> {\n    if (prop in this.props) {\n      return getAtPath(this.data, this.getPropExportKey(prop, key), defaultValue);\n    }\n    return defaultValue;\n  }\n\n  resetValue<Prop extends keyof Props>(prop: Prop, key?: string): RequestData<Props> {\n    if (prop in this.props) {\n      const definition = this.props[prop];\n      const value = definition.initialValue ? definition.initialValue() : undefined;\n      if (value === undefined && key && definition.parent && definition.parent.type === 'map') {\n        return this.removeKey(definition.parent.key as keyof Props, key);\n      }\n      return this.set(prop, value, key);\n    }\n    return this;\n  }\n\n  protected getMapExportKey(\n    keyPath: ModelInstancePropertyConfig<any>['exportKey'],\n    key: string,\n  ): ModelInstancePropertyConfig<any>['exportKey'] {\n    return keyPath.map((value) => (value === '#KEY#' ? key : value));\n  }\n\n  protected getPropExportKey<Prop extends keyof Props>(\n    prop: Prop,\n    key?: string,\n  ): ModelInstancePropertyConfig<any>['exportKey'] {\n    if (prop in this.props) {\n      const exportKey = this.props[prop].exportKey;\n      if (key) {\n        return this.getMapExportKey(exportKey, key);\n      }\n      return exportKey;\n    }\n    return [];\n  }\n\n  getValue<Prop extends keyof Props>(prop: Prop, defaultValue?: any, key?: string): any {\n    if (prop in this.props) {\n      return this.get(prop, defaultValue, key);\n    }\n    return defaultValue;\n  }\n\n  setValue<Prop extends keyof Props>(prop: Prop, value: any, key?: string): RequestData<Props> {\n    if (prop in this.props) {\n      if (this.props[prop].type === 'array' && value.length === 0) {\n        return this.resetValue(prop, key);\n      }\n      return this.set(prop, value, key);\n    }\n    return this;\n  }\n\n  removeKey<Prop extends keyof Props>(prop: Prop, keyToRemove: string | number): RequestData<Props> {\n    if (!prop) {\n      this.data = omit(this.data, [keyToRemove]);\n      return this;\n    }\n    let value = omit(this.getValue(prop, {}), [keyToRemove]);\n    if (Object.keys(value).length === 0) {\n      value = undefined;\n    }\n    return this.setValue(prop, value);\n  }\n\n  updateValue<Prop extends keyof Props>(prop: Prop, value: any, key?: string): RequestData<Props> {\n    return this.setValue(prop, mergeDeep(this.getValue(prop, {}, key), value), key);\n  }\n\n  addValue<Prop extends keyof Props>(prop: Prop, value: any, key?: string): RequestData<Props> {\n    if (prop in this.props && this.props[prop].type === 'array') {\n      return this.setValue(prop, this.getValue(prop, [], key).concat(value), key);\n    }\n    return this;\n  }\n\n  removeValue<Prop extends keyof Props>(\n    prop: Prop,\n    value: any,\n    filter: (v: any, value: any) => boolean = (v: any) => v !== value,\n    key?: string,\n  ): RequestData<Props> {\n    if (prop in this.props && this.props[prop].type === 'array') {\n      this.setValue(\n        prop,\n        this.getValue(prop, [], key).filter((v: any) => filter(v, value)),\n        key,\n      );\n    }\n    return this;\n  }\n\n  transformJson(json: any): any {\n    return json;\n  }\n\n  toJson(...props: Array<string>): any {\n    if (Object.keys(this.data).length === 0) {\n      return this.transformJson(undefined);\n    }\n\n    if (props.length === 0) {\n      return this.transformJson(this.data);\n    }\n    return this.transformJson(pick(this.data, props));\n  }\n\n  onChange(prop: string, value: any): void {\n    this.listeners.forEach((listener) => {\n      listener.onChange(this, prop, value);\n    });\n  }\n\n  addListeners(observers: Array<Observer>): void {\n    observers.forEach((observer) => this.addListener(observer));\n  }\n\n  addListener(observer: Observer): void {\n    if (!this.listeners.find((listener) => listener === observer)) {\n      this.listeners.push(observer);\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { setAtPath } from '@rfk-sdk/common/lib';\nimport { buildCamelCaseMethod } from '@rfk-sdk/common/lib/model/utils';\nimport { ModelConfig, ModelInstancePropertyConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nimport { createClass, defineProperty, inherits, createSuper } from './utils';\nimport RequestData from '../requestData';\n\ntype Constructor<T> = new (...args: any[]) => T;\ntype PropInfo<T> = { config: ModelInstancePropertyConfig<T>; key: string; methodKey: string };\ntype BuildOptions = { parentType?: string };\ntype TypeOptions = BuildOptions & { type: string };\n\nconst getSingularString = (str: string) => str.replace(/s$/, '').replace(/ie$/, 'y');\nconst getPropInfo = <T>(\n  prop: string,\n  parent: ModelPropertyConfig<T> | null,\n  propConfig: ModelPropertyConfig<T>,\n): PropInfo<T> => {\n  const { exportKey = [prop], getter, setter, name } = propConfig;\n  const isParentMap = parent?.type === 'map';\n  const key = parent ? `${parent.key}.${name || prop}` : name || prop;\n  const accessProp = parent ? `${parent.accessProp}.${prop}` : prop;\n\n  const exportKeyPath = [...(isParentMap ? ['#KEY#'] : []), ...exportKey];\n  const propExportKey = parent?.exportKey?.concat(...exportKeyPath) || exportKeyPath;\n  const methodKey = key.replace(/\\./g, '_');\n  const getterName = getter || buildCamelCaseMethod('get', methodKey);\n  const setterName = setter || buildCamelCaseMethod('set', methodKey);\n  const config: ModelInstancePropertyConfig<T> = {\n    ...propConfig,\n    key,\n    accessProp,\n    exportKey: propExportKey,\n    keyPath: exportKeyPath,\n    getter: getterName,\n    setter: setterName,\n    parent,\n  };\n\n  return { config, key, methodKey };\n};\n\nconst getArgs = (\n  args: Array<any>,\n  { parentType }: TypeOptions,\n  numberOfArgs: number,\n  numberOfOptionalArgs: number = 0,\n) => {\n  if (parentType === 'map') {\n    if (args.length < numberOfArgs - numberOfOptionalArgs + 1) {\n      throw new Error('Invalid number of arguments');\n    }\n    if (typeof args[0] !== 'string') {\n      throw new Error(`Invalid map key argument: ${args[0]}`);\n    }\n    const list = args.slice(1);\n    return [\n      ...Array(numberOfArgs)\n        .fill(undefined)\n        .map((_, index) => list[index]),\n      args[0],\n    ];\n  }\n  return args;\n};\n\nexport const build = <T extends RequestData<any>>(\n  parent: ModelPropertyConfig<T> | null,\n  properties: ModelConfig['properties'],\n  data: Record<string, any>,\n  methods: Record<string, any>,\n  options?: BuildOptions,\n): Record<string, ModelInstancePropertyConfig<T>> => {\n  const propsList: Record<string, ModelInstancePropertyConfig<T>> = {};\n  Object.keys(properties).forEach((prop) => {\n    const {\n      key,\n      methodKey,\n      config,\n      config: { accessProp, exportKey, setter, getter, type, model, initialValue },\n    } = getPropInfo(prop, parent, properties[prop]);\n    const typeOptions: TypeOptions = { type, ...options };\n\n    propsList[key] = config;\n\n    const value = initialValue ? initialValue() : undefined;\n\n    // TODO: add support to maps initial value\n    if (typeof value !== 'undefined' && !key.includes('#KEY#')) {\n      setAtPath(data, exportKey, value);\n    }\n\n    methods.push({\n      typeOptions,\n      prop: accessProp,\n      key: getter,\n      value: function (this: T, ...args: Array<any>) {\n        return this.getValue(key, ...getArgs(args, typeOptions, 1, 1));\n      },\n    });\n    methods.push({\n      typeOptions,\n      prop: accessProp,\n      key: setter,\n      value: function (this: T, ...args: Array<any>) {\n        // @ts-ignore\n        return this.setValue(key, ...getArgs(args, typeOptions, 1));\n      },\n    });\n    methods.push({\n      typeOptions,\n      prop: accessProp,\n      key: buildCamelCaseMethod('reset', methodKey),\n      value: function (this: T, ...args: Array<any>) {\n        return this.resetValue(key, ...getArgs(args, typeOptions, 0));\n      },\n    });\n\n    if (type === 'array') {\n      const singularMethodKey = getSingularString(methodKey);\n      methods.push({\n        typeOptions,\n        prop: accessProp,\n        key: buildCamelCaseMethod('add', singularMethodKey),\n        value: function (this: T, ...args: Array<any>) {\n          // @ts-ignore\n          return this.addValue(key, ...getArgs(args, typeOptions, 1));\n        },\n      });\n      methods.push({\n        typeOptions,\n        prop: accessProp,\n        key: buildCamelCaseMethod('remove', singularMethodKey),\n        value: function (this: T, ...args: Array<any>) {\n          // @ts-ignore\n          return this.removeValue(key, ...getArgs(args, typeOptions, 2, 1));\n        },\n      });\n    } else if (type === 'model' && model) {\n      Object.assign(propsList, build<T>(config, model.properties, data, methods, options));\n      methods.push({\n        typeOptions,\n        prop: accessProp,\n        key: buildCamelCaseMethod('update', methodKey),\n        value: function (this: T, ...args: Array<any>) {\n          // @ts-ignore\n          return this.updateValue(key, ...getArgs(args, typeOptions, 1));\n        },\n      });\n    } else if (type === 'map' && model) {\n      Object.assign(\n        propsList,\n        build<T>(config, model.properties, data, methods, { parentType: type, ...options }),\n      );\n    }\n  });\n  return propsList;\n};\nexport const createModel = <K, T extends RequestData<K>>(model: ModelConfig): Constructor<T> => {\n  const { name, properties = {} } = model;\n  const data: Record<string, any> = {};\n  const methods: Array<{ key: string; value: any }> = [];\n  const propsList: Record<string, ModelInstancePropertyConfig<T>> = build(null, properties, data, methods);\n\n  inherits(ModelClass, RequestData);\n\n  const superInstance = createSuper(ModelClass);\n  function ModelClass(this: T, ...args: any[]) {\n    // eslint-disable-next-line prefer-spread\n    const thisInstance = superInstance.call.apply(superInstance, [this].concat(args));\n\n    defineProperty(thisInstance, 'listeners', []);\n    defineProperty(thisInstance, 'props', propsList);\n    defineProperty(thisInstance, 'data', JSON.parse(JSON.stringify(data)));\n\n    return thisInstance;\n  }\n\n  createClass(ModelClass, methods);\n\n  Object.defineProperty(ModelClass, 'name', { value: name });\n  // @ts-ignore\n  return ModelClass;\n};\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport TemplatesModel from './templates.model';\nimport VariablesModel from './variables.model';\n\nconst model: ModelConfig = {\n  name: 'Appearance',\n  properties: {\n    templates: { type: 'model', model: TemplatesModel } as ModelPropertyConfig<typeof TemplatesModel>,\n    variables: { type: 'model', model: VariablesModel } as ModelPropertyConfig<typeof VariablesModel>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport { DeviceType, SectionType } from '@rfk-sdk/models/lib/searchRecApi/response';\n\nconst model: ModelConfig = {\n  name: 'Templates',\n  properties: {\n    sections: { type: 'array' } as ModelPropertyConfig<Array<SectionType>>,\n    devices: { type: 'array' } as ModelPropertyConfig<Array<DeviceType>>,\n    keep_variables: {} as ModelPropertyConfig<boolean>,\n    keep_original_css: {} as ModelPropertyConfig<boolean>,\n  },\n};\n\nexport default model;\n","import { SectionType } from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nconst model: ModelConfig = {\n  name: 'Variables',\n  properties: {\n    sections: { type: 'array' } as ModelPropertyConfig<Array<SectionType>>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nconst model: ModelConfig = {\n  name: 'Content',\n  properties: {\n    product: {} as ModelPropertyConfig<any>,\n    article: {} as ModelPropertyConfig<any>,\n    store: {} as ModelPropertyConfig<any>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport ContextValueGeo from './geo.model';\nimport ContextValueUser from './user.model';\nimport ContextValuePage from './page.model';\nimport ContextValueBrowser from './browser.model';\nimport ContextValueCampaign from './campaign.model';\nimport ContextValueProduct from './product.model';\nimport ContextValueCategory from './category.model';\nimport ContextValueHardFilter from './hardFilter.model';\nimport ContextValueChannel from './channel.model';\n\nconst model: ModelConfig = {\n  name: 'ContextValues',\n  properties: {\n    geo: { type: 'model', model: ContextValueGeo } as ModelPropertyConfig<typeof ContextValueGeo>,\n    user: { type: 'model', model: ContextValueUser } as ModelPropertyConfig<typeof ContextValueUser>,\n    browser: { type: 'model', model: ContextValueBrowser } as ModelPropertyConfig<typeof ContextValueBrowser>,\n    page: { type: 'model', model: ContextValuePage } as ModelPropertyConfig<typeof ContextValuePage>,\n    campaign: { type: 'model', model: ContextValueCampaign } as ModelPropertyConfig<typeof ContextValueCampaign>,\n    product: { type: 'model', model: ContextValueProduct } as ModelPropertyConfig<typeof ContextValueProduct>,\n    category: { type: 'model', model: ContextValueCategory } as ModelPropertyConfig<typeof ContextValueCategory>,\n    hard_filter: { type: 'model', model: ContextValueHardFilter } as ModelPropertyConfig<typeof ContextValueHardFilter>,\n    channel: { type: 'model', model: ContextValueChannel } as ModelPropertyConfig<typeof ContextValueChannel>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValueGeoValue = 'ip' | 'state' | 'country' | 'city' | 'zip';\n\nconst model: ModelConfig = {\n  name: 'ContextValuesGeo',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<Array<ContextValueGeoValue>>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValueUserValue = 'uuid' | 'id' | 'new_user' | 'groups' | 'zip' | 'email' | 'gender';\n\nconst model: ModelConfig = {\n  name: 'ContextValuesUser',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<\n      Array<ContextValueUserValue>\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValueBrowserValue = 'uuid' | 'id' | 'new_user' | 'groups' | 'zip';\n\nconst model: ModelConfig = {\n  name: 'ContextValuesBrowser',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<\n      Array<ContextValueBrowserValue>\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValuePageValue = 'referrer' | 'sku' | 'all_category_ids';\n\nconst model: ModelConfig = {\n  name: 'ContextValuesPage',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<\n      Array<ContextValuePageValue>\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValueCampaignValue = 'utm_source' | 'utm_medium' | 'utm_campaign' | 'utm_term' | 'utm_content';\n\nconst model: ModelConfig = {\n  name: 'ContextValuesCampaign',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<\n      Array<ContextValueCampaignValue>\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValueProductValue = string;\n\nconst model: ModelConfig = {\n  name: 'ContextValuesProduct',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<\n      Array<ContextValueProductValue>\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValueCategoryValue = string;\n\nconst model: ModelConfig = {\n  name: 'ContextValuesCategory',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<\n      Array<ContextValueCategoryValue>\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValueHardFilterValue = string;\n\nconst model: ModelConfig = {\n  name: 'ContextValuesHardFilter',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<\n      Array<ContextValueHardFilterValue>\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type ContextValueChannelValue = string;\n\nconst model: ModelConfig = {\n  name: 'ContextValuesChannel',\n  properties: {\n    value: { type: 'array', exportKey: ['field', 'value'], name: 'items' } as ModelPropertyConfig<\n      Array<ContextValueChannelValue>\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport DiscoverModel from './discover.model';\n\nconst model: ModelConfig = {\n  name: 'Features',\n  properties: {\n    discover: { type: 'model', model: DiscoverModel } as ModelPropertyConfig<typeof DiscoverModel>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nconst model: ModelConfig = {\n  name: 'Discover',\n  properties: {\n    choice_id: { required: true } as ModelPropertyConfig<string>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type RangeFilterValue = {\n  min?: number;\n  max?: number;\n};\n\nexport type FiltersFilter = string | RangeFilterValue;\n\nconst model: ModelConfig = {\n  name: 'Filters',\n  properties: {\n    value: { required: true, type: 'array', name: 'values' } as ModelPropertyConfig<Array<FiltersFilter>>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport type SortOrder = 'asc' | 'desc';\nexport interface SortItem {\n  type: string;\n  order: 'asc' | 'desc';\n}\n\nconst model: ModelConfig = {\n  name: 'SortItem',\n  properties: {\n    type: { required: true } as ModelPropertyConfig<string>,\n    order: { required: true } as ModelPropertyConfig<SortOrder>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport SortItemModel from '../sort/item.model';\n\nconst model: ModelConfig = {\n  name: 'Facet',\n  properties: {\n    min_count: {} as ModelPropertyConfig<number>,\n    max: {} as ModelPropertyConfig<number>,\n    total: {} as ModelPropertyConfig<number>,\n    sort: { type: 'model', model: SortItemModel, exportKey: ['sort', 0], name: 'SortCriteria' } as ModelPropertyConfig<\n      typeof SortItemModel\n    >,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nconst model: ModelConfig = {\n  name: 'Query',\n  properties: {\n    keyphrase: { exportKey: ['keyphrase', 'value', 0] } as ModelPropertyConfig<string>,\n    category: { type: 'array', name: 'categories' } as ModelPropertyConfig<Array<string>>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport SortItemModel, { SortItem } from './item.model';\n\nconst model: ModelConfig = {\n  name: 'Sort',\n  properties: {\n    choices: {} as ModelPropertyConfig<boolean>,\n    value: { type: 'model', model: SortItemModel, exportKey: ['value', 0], name: 'criteria' } as ModelPropertyConfig<SortItem>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nconst model: ModelConfig = {\n  name: 'Widget',\n  properties: {\n    all: {} as ModelPropertyConfig<boolean>,\n    rfkid: {} as ModelPropertyConfig<string>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport ContextBrowserModel from './browser.model';\nimport ContextCampaignModel from './campaign.model';\nimport ContextChannelModel from './channel.model';\nimport ContextFitmentModel from './fitment.model';\nimport ContextGeoModel from './geo.model';\nimport ContextPageModel from './page.model';\nimport ContextStoreModel from './store.model';\nimport ContextUserModel from './user.model';\n\nconst model: ModelConfig = {\n  name: 'Context',\n  file: 'context',\n  buildInterface: true,\n  properties: {\n    store: { type: 'model', model: ContextStoreModel } as ModelPropertyConfig<typeof ContextStoreModel>,\n    user: { type: 'model', model: ContextUserModel } as ModelPropertyConfig<typeof ContextUserModel>,\n    page: { type: 'model', model: ContextPageModel } as ModelPropertyConfig<typeof ContextPageModel>,\n    campaign: { type: 'model', model: ContextCampaignModel } as ModelPropertyConfig<typeof ContextCampaignModel>,\n    geo: { type: 'model', model: ContextGeoModel } as ModelPropertyConfig<typeof ContextGeoModel>,\n    fitment: { type: 'model', model: ContextFitmentModel } as ModelPropertyConfig<typeof ContextFitmentModel>,\n    browser: { type: 'model', model: ContextBrowserModel } as ModelPropertyConfig<typeof ContextBrowserModel>,\n    channel: { type: 'model', model: ContextChannelModel } as ModelPropertyConfig<typeof ContextChannelModel>,\n  },\n};\nexport default model;\n","import { ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport default {\n  name: 'ContextStore',\n  file: 'store',\n  properties: {\n    id: {} as ModelPropertyConfig<string>,\n    group_id: {} as ModelPropertyConfig<string>,\n  },\n};\n","import { ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport default {\n  name: 'ContextUser',\n  file: 'user',\n  properties: {\n    groups: { type: 'array' } as ModelPropertyConfig<Array<string>>,\n    order_id: { type: 'array', name: 'orderIds' } as ModelPropertyConfig<Array<string>>,\n    gender: {} as ModelPropertyConfig<string>,\n    email: {} as ModelPropertyConfig<string>,\n    uuid: {} as ModelPropertyConfig<string>,\n    id: { exportKey: ['user_id']} as ModelPropertyConfig<string>,\n    new_user: {} as ModelPropertyConfig<boolean>,\n  },\n};\n","import { ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport default {\n  name: 'ContextPage',\n  file: 'page',\n  properties: {\n    skus: { type: 'array', exportKey: ['sku'] } as ModelPropertyConfig<Array<string>>,\n    product_groups: { type: 'array', exportKey: ['product_group'] } as ModelPropertyConfig<Array<string>>,\n    category_uri: {} as ModelPropertyConfig<string>,\n    uri: {} as ModelPropertyConfig<string>,\n    ccid: {} as ModelPropertyConfig<string>,\n    category_id: {} as ModelPropertyConfig<string>,\n    locale_country: {} as ModelPropertyConfig<string>,\n    locale_language: {} as ModelPropertyConfig<string>,\n    locale_currency: {} as ModelPropertyConfig<string>,\n    referrer: {} as ModelPropertyConfig<string>,\n    title: {} as ModelPropertyConfig<string>,\n    container_id: {} as ModelPropertyConfig<string>,\n    all_category_ids: { type: 'array' } as ModelPropertyConfig<Array<string>>,\n  },\n};\n","import { ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport default {\n  name: 'ContextCampaign',\n  file: 'campaign',\n  properties: {\n    utm_campaign: {} as ModelPropertyConfig<string>,\n    utm_source: {} as ModelPropertyConfig<string>,\n  },\n};\n","import { ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport default {\n  name: 'ContextGeo',\n  file: 'geo',\n  properties: {\n    ip: {} as ModelPropertyConfig<string>,\n    country: {} as ModelPropertyConfig<string>,\n    state: {} as ModelPropertyConfig<string>,\n    city: {} as ModelPropertyConfig<string>,\n    zip: {} as ModelPropertyConfig<string>,\n  },\n};\n","import { ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport default {\n  name: 'ContextFitment',\n  file: 'fitment',\n  properties: {\n    ids: { type: 'array' } as ModelPropertyConfig<Array<string>>,\n    items: { type: 'array' } as ModelPropertyConfig<Array<any>>,\n  },\n};\n","import { ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport default {\n  name: 'ContextBrowser',\n  file: 'browser',\n  properties: {\n    user_agent: {} as ModelPropertyConfig<string>,\n    device: {} as ModelPropertyConfig<string>,\n    app_type: {} as ModelPropertyConfig<string>,\n  },\n};\n","import { ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nexport default {\n  name: 'ContextChannel',\n  file: 'channel',\n  properties: {\n    type: {} as ModelPropertyConfig<string>,\n  },\n};\n","import { DEVICES } from '../appearance/devices.model';\nimport { SECTIONS } from '../appearance/sections.model';\nimport { createModel } from '../model';\nimport model from './rfkRequest.model';\nimport { BatchItem, IRfkRequest, Props } from './types/rfkRequest';\n\nconst RfkRequestModel = createModel<Props, IRfkRequest>(model);\n\nexport default class RfkRequest extends RfkRequestModel {\n  protected rfkId: string = '';\n\n  getRfkId() {\n    return this.rfkId;\n  }\n\n  setRfkId(rfkId: string): RfkRequest {\n    this.rfkId = rfkId;\n    this.addBatchItem({ widget: { rfkid: rfkId } });\n    return this;\n  }\n\n  getWidgetInfo(widgetId: string): any {\n    return this.getBatchItems()?.find(({ widget }: { widget: any }) => widget.rfkid && widget.rfkid === widgetId);\n  }\n\n  addWidgetBatchItem(widgetId: string, config?: Omit<BatchItem, 'widget'>): RfkRequest {\n    this.addBatchItem({ ...config, widget: { rfkid: widgetId } });\n    return this;\n  }\n\n  addAllWidgetsBatchItem(config?: Omit<BatchItem, 'widget'>): RfkRequest {\n    this.addBatchItem({ ...config, widget: { all: true } });\n    return this;\n  }\n\n  addAllAppearanceTemplatesDevices(): RfkRequest {\n    DEVICES.forEach((device) => this.addAppearanceTemplatesDevice(device));\n    return this;\n  }\n\n  addAllAppearanceTemplatesSections(): RfkRequest {\n    SECTIONS.forEach((section) => this.addAppearanceTemplatesSection(section));\n    return this;\n  }\n\n  addAllAppearanceVariablesSections(): RfkRequest {\n    SECTIONS.forEach((section) => this.addAppearanceVariablesSection(section));\n    return this;\n  }\n}\n","import { MapModel, ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport AppearanceModel from '../appearance/index.model';\nimport BatchItemModel from '../batch/index.model';\nimport ContentModel from '../content/index.model';\nimport ContextModel from '../context/index.model';\nimport ContextValuesModel from '../contextValues/index.model';\nimport FeaturesModel from '../features/index.model';\nimport FiltersModel from '../filters/index.model';\nimport FacetsModel from '../searchParams/facet.model';\nimport QueryModel from '../searchParams/query.model';\nimport SuggestionModel from '../searchParams/suggestion.model';\nimport SortModel from '../sort/index.model';\nimport SortItemModel from '../sort/item.model';\nimport WidgetModel from '../widget/index.model';\n\nconst model: ModelConfig = {\n  name: 'RfkRequest',\n  file: 'rfkRequest',\n  buildInterface: true,\n  properties: {\n    number_products: { exportKey: ['n_item'] } as ModelPropertyConfig<number>,\n    page_number: {} as ModelPropertyConfig<number>,\n    appearance: {\n      type: 'model',\n      model: AppearanceModel,\n    } as ModelPropertyConfig<typeof AppearanceModel>,\n    facets: { type: 'map', exportKey: ['facet'], model: FacetsModel, name: 'facet' } as ModelPropertyConfig<\n      MapModel<typeof FacetsModel>\n    >,\n    facets_all: { exportKey: ['facet', 'all'] } as ModelPropertyConfig<boolean>,\n    facets_max: { exportKey: ['facet', 'max'] } as ModelPropertyConfig<number>,\n    facets_total: { exportKey: ['facet', 'total'] } as ModelPropertyConfig<number>,\n    facets_sort: {\n      type: 'model',\n      model: SortItemModel,\n      exportKey: ['facet', 'sort', 'value', 0],\n      name: 'FacetsSortCriteria',\n    } as ModelPropertyConfig<typeof SortItemModel>,\n    filters: { type: 'map', model: FiltersModel, exportKey: ['filter'], name: 'filter' } as ModelPropertyConfig<\n      MapModel<typeof FiltersModel>\n    >,\n    widget: { type: 'model', model: WidgetModel } as ModelPropertyConfig<typeof WidgetModel>,\n    batch: { type: 'array', model: BatchItemModel, name: 'batchItems' } as ModelPropertyConfig<\n      Array<typeof BatchItemModel>\n    >,\n    features: { type: 'model', model: FeaturesModel } as ModelPropertyConfig<typeof FeaturesModel>,\n    context: { type: 'model', model: ContextModel } as ModelPropertyConfig<typeof ContextModel>,\n    content: { type: 'model', model: ContentModel } as ModelPropertyConfig<typeof ContentModel>,\n    sort: { type: 'model', model: SortModel } as ModelPropertyConfig<typeof SortModel>,\n    query: { type: 'model', model: QueryModel } as ModelPropertyConfig<typeof QueryModel>,\n    suggestion: { type: 'model', model: SuggestionModel } as ModelPropertyConfig<typeof SuggestionModel>,\n    context_values: { type: 'model', model: ContextValuesModel } as ModelPropertyConfig<typeof ContextValuesModel>,\n  },\n};\n\nexport default model;\n","import { MapModel, ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\nimport AppearanceModel from '../appearance/index.model';\nimport ContentModel from '../content/index.model';\nimport ContextValuesModel from '../contextValues/index.model';\nimport FeaturesModel from '../features/index.model';\nimport FiltersModel from '../filters/index.model';\nimport FacetsModel from '../searchParams/facet.model';\nimport QueryModel from '../searchParams/query.model';\nimport SortModel from '../sort/index.model';\nimport SortItemModel from '../sort/item.model';\nimport WidgetModel from '../widget/index.model';\n\nconst model: ModelConfig = {\n  name: 'BatchItem',\n  properties: {\n    appearance: {\n      type: 'model',\n      model: AppearanceModel,\n    } as ModelPropertyConfig<typeof AppearanceModel>,\n    facets: {\n      type: 'map',\n      exportKey: ['facet'],\n      model: FacetsModel,\n      name: 'facet',\n    } as ModelPropertyConfig<MapModel<typeof FacetsModel>>,\n    facets_all: { exportKey: ['facet', 'all'] } as ModelPropertyConfig<boolean>,\n    facets_max: { exportKey: ['facet', 'max'] } as ModelPropertyConfig<number>,\n    facets_total: { exportKey: ['facet', 'total'] } as ModelPropertyConfig<number>,\n    facets_sort: {\n      type: 'model',\n      model: SortItemModel,\n      exportKey: ['facet', 'sort', 'value', 0],\n      name: 'FacetsSortCriteria',\n    } as ModelPropertyConfig<typeof SortItemModel>,\n    filter: { type: 'model', model: FiltersModel } as ModelPropertyConfig<typeof FiltersModel>,\n    widget: { type: 'model', model: WidgetModel, required: true } as ModelPropertyConfig<typeof WidgetModel>,\n    features: { type: 'model', model: FeaturesModel } as ModelPropertyConfig<typeof FeaturesModel>,\n    content: { type: 'model', model: ContentModel } as ModelPropertyConfig<typeof ContentModel>,\n    sort: { type: 'model', model: SortModel } as ModelPropertyConfig<typeof SortModel>,\n    query: { type: 'model', model: QueryModel } as ModelPropertyConfig<typeof QueryModel>,\n    context_values: { type: 'model', model: ContextValuesModel } as ModelPropertyConfig<typeof ContextValuesModel>,\n  },\n};\n\nexport default model;\n","import { ModelConfig, ModelPropertyConfig } from '@rfk-sdk/models/lib/config.types';\n\nconst model: ModelConfig = {\n  name: 'Suggestion',\n  properties: {\n    keyphrase: { exportKey: ['keyphrase', 'max'] } as ModelPropertyConfig<number>,\n    category: { exportKey: ['category', 'max'] } as ModelPropertyConfig<number>,\n    recent: { exportKey: ['recent', 'max'] } as ModelPropertyConfig<number>,\n    trending_category: { exportKey: ['trending_category', 'max'] } as ModelPropertyConfig<number>,\n  },\n};\n\nexport default model;\n","import RfkRequest from '../api/rfkRequest';\n\nexport default (): RfkRequest => {\n  const request = new RfkRequest();\n  request.setContentProduct({});\n  return request;\n};\n","import RfkRequest from '../api/rfkRequest';\n\nexport default (): RfkRequest => {\n  const request = new RfkRequest();\n  request.setAppearanceTemplates({});\n  request.setAppearanceVariables({});\n  return request;\n};\n","import { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport RfkRequest from '../api/rfkRequest';\nimport RecommendationDefaultRequest from './recommendation';\nimport DiscoverDefaultRequest from './discover';\nimport SearchResultsDefaultRequest from './searchResults';\nimport PreviewSearchDefaultRequest from './previewSearch';\nimport ContentBlockDefaultRequest from './contentBlock';\n\ntype DefaultRequests = {\n  [key in WidgetDataType]: () => RfkRequest;\n};\n\nconst DEFAULTS: DefaultRequests = {\n  [WidgetDataType.RECOMMENDATION]: RecommendationDefaultRequest,\n  [WidgetDataType.DISCOVER]: DiscoverDefaultRequest,\n  [WidgetDataType.SEARCH_RESULTS]: SearchResultsDefaultRequest,\n  [WidgetDataType.PREVIEW_SEARCH]: PreviewSearchDefaultRequest,\n  [WidgetDataType.CONTENT_BLOCK]: ContentBlockDefaultRequest,\n  [WidgetDataType.HTML_BLOCK]: ContentBlockDefaultRequest,\n  [WidgetDataType.SEO]: ContentBlockDefaultRequest,\n  [WidgetDataType.BANNER]: ContentBlockDefaultRequest,\n};\nconst getDefaultRequestFor = (type: WidgetDataType): RfkRequest => {\n  if (DEFAULTS[type]) {\n    return DEFAULTS[type]();\n  }\n  return new RfkRequest();\n};\n\nconst setDefaultRequestFor = (type: WidgetDataType, defaultRequest: () => RfkRequest): void => {\n  DEFAULTS[type] = defaultRequest;\n};\n\nexport { getDefaultRequestFor, setDefaultRequestFor };\n","import RfkRequest from '../api/rfkRequest';\n\nexport default (): RfkRequest => {\n  const request = new RfkRequest();\n  request.setContentProduct({});\n  request.setContextValuesProduct({});\n  return request;\n};\n","import RfkRequest from '../api/rfkRequest';\n\nexport default (): RfkRequest => {\n  const request = new RfkRequest();\n  request.setContentProduct({});\n  request.setFacetsAll(true);\n  request.setPageNumber(1);\n  request.setSortChoices(true);\n  return request;\n};\n","import RfkRequest from '../api/rfkRequest';\n\nexport default (): RfkRequest => {\n  const request = new RfkRequest();\n  request.setContentProduct({});\n  request.setSuggestionKeyphrase(3);\n  request.setSuggestionCategory(3);\n  request.setSuggestionTrendingCategory(3);\n  return request;\n};\n","import { mergeDeep } from '@rfk-sdk/common/lib/merge';\nimport WidgetsConfig from '@rfk-sdk/core/lib/widgetsConfig';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport { getDefaultRequestFor } from '../defaults';\nimport RfkRequest from './rfkRequest';\n\nclass InitRfkRequest extends RfkRequest {\n  constructor(widgets: Array<string>, includeContainerWidgets: boolean) {\n    super();\n\n    const CONTENT_BLOCK_DEFAULT_REQUEST = getDefaultRequestFor(WidgetDataType.CONTENT_BLOCK).toJson();\n    const RECOMMENDATION_DEFAULT_REQUEST = getDefaultRequestFor(WidgetDataType.RECOMMENDATION).toJson();\n    const DISCOVER_DEFAULT_REQUEST = getDefaultRequestFor(WidgetDataType.DISCOVER).toJson();\n    const SEARCH_RESULTS_DEFAULT_REQUEST = getDefaultRequestFor(WidgetDataType.SEARCH_RESULTS).toJson();\n\n    widgets.forEach((rfkId) => {\n      const type = WidgetsConfig.getType(rfkId);\n      const config = type ? getDefaultRequestFor(type).toJson() : undefined;\n      this.addWidgetBatchItem(rfkId, config);\n    });\n\n    if (includeContainerWidgets) {\n      const allParams = mergeDeep(\n        RECOMMENDATION_DEFAULT_REQUEST,\n        mergeDeep(DISCOVER_DEFAULT_REQUEST, mergeDeep(SEARCH_RESULTS_DEFAULT_REQUEST, CONTENT_BLOCK_DEFAULT_REQUEST)),\n      );\n\n      this.addAllWidgetsBatchItem(allParams);\n    }\n  }\n}\n\nexport default InitRfkRequest;\n","import { mergeDeep } from '@rfk-sdk/common/lib/merge';\nimport SearchRecResponse, { Result, Widget } from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport { getDefaultRequestFor } from '../../defaults';\nimport Cache from '../cache';\nimport { BatchItem } from '../types/rfkRequest';\nimport { RequestOptions } from './types';\n\nexport default class Processor {\n  protected cache: Cache = new Cache('data-provider');\n\n  getCache(): Cache {\n    return this.cache;\n  }\n\n  setCache(cache: Cache) {\n    this.cache = cache;\n  }\n\n  protected buildCachedResponse(cacheKey: string): any {\n    return { ...this.cache.get(cacheKey), cached: true };\n  }\n\n  getCachedResponse(requestPayload: any, options: RequestOptions): { cacheKey: string; response: any } {\n    const cacheKey = this.cache.createKey(requestPayload);\n    if (!options.force && this.cache.has(cacheKey)) {\n      return {\n        cacheKey,\n        response: this.buildCachedResponse(cacheKey),\n      };\n    }\n    return {\n      cacheKey,\n      response: null,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  validateResponse(response: SearchRecResponse, request: any): any {\n    if (typeof response.err === 'number' && response.err !== 200) {\n      return response;\n    }\n    return null;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected getWidgetType(rfkId: string, item: Result, request: any): WidgetDataType | undefined {\n    const {\n      widget: { type },\n    } = item;\n    return type;\n  }\n\n  protected getWidgetResponseForType(type: WidgetDataType, item: Result, { batch, ...request }: any) {\n    const defaultParams = getDefaultRequestFor(type).toJson();\n    return mergeDeep(request, defaultParams);\n  }\n\n  protected getAllWidgetResponse(rfkId: string, item: Result, request: any) {\n    const type = this.getWidgetType(rfkId, item, request);\n    if (type) {\n      return this.getWidgetResponseForType(type, item, request);\n    }\n    return request;\n  }\n\n  protected getWidgetResponse(rfkId: string, item?: any): any {\n    return {\n      ...item,\n      widget: undefined,\n      batch: [{ widget: { rfkid: rfkId } }],\n    };\n  }\n\n  protected getWidgetResponseCacheKey(rfkId: string, request: any): any {\n    const item = this.getRequestWidgetFromBatch(rfkId, request);\n    return Object.assign({}, request, this.getWidgetResponse(rfkId, item));\n  }\n\n  protected getAllWidgetResponseCacheKey(rfkId: string, item: Result, request: any): any {\n    return Object.assign({}, this.getAllWidgetResponse(rfkId, item, request), this.getWidgetResponse(rfkId));\n  }\n\n  protected cacheWidgetResponse(rfkId: string, item: Result, request: any) {\n    this.cache.set(\n      this.cache.createKey(\n        this.isAllWidget(rfkId, request)\n          ? this.getAllWidgetResponseCacheKey(rfkId, item, request)\n          : this.getWidgetResponseCacheKey(rfkId, request),\n      ),\n      item,\n    );\n  }\n\n  protected getRequestWidgetFromBatch(rfkId: string, request: any) {\n    return request.batch?.find(({ widget: { rfkid } = {} }: BatchItem) => rfkid === rfkId);\n  }\n\n  protected isAllWidget(rfkId: string, request: any) {\n    return !this.getRequestWidgetFromBatch(rfkId, request);\n  }\n\n  cacheResponse(cacheKey: string, response: SearchRecResponse, request: any) {\n    this.cache.set(cacheKey, response);\n    const { batch = [], widget } = response;\n    if (batch.length > 0) {\n      batch.forEach((item: { widget: Widget }) => {\n        const {\n          widget: { rfkid: rfkId },\n        } = item;\n        this.cacheWidgetResponse(rfkId, item, request);\n      });\n    } else if (widget) {\n      this.cacheWidgetResponse(widget.rfkid, response, request);\n    }\n  }\n\n  processResponse(cacheKey: string, response: SearchRecResponse, request: any): SearchRecResponse {\n    this.cacheResponse(cacheKey, response, request);\n    return this.cache.get(cacheKey);\n  }\n}\n","import SearchRecResponse from '@rfk-sdk/models/lib/searchRecApi/response';\nimport RFKApiAdapter, { FetchOptions } from '../apiAdapter';\nimport Processor from './processor';\nimport { RequestOptions } from './types';\n\nlet PROCESSOR = new Processor();\n\nconst setProcessor = (strategy: Processor) => {\n  PROCESSOR = strategy;\n};\nconst getProcessor = () => PROCESSOR;\nconst get = async (request: any, options: RequestOptions = {}): Promise<SearchRecResponse> => {\n  const { cacheKey, response } = PROCESSOR.getCachedResponse(request, options);\n  if (response) {\n    return Promise.resolve(response);\n  }\n  try {\n    const response: SearchRecResponse = await RFKApiAdapter.callApi({ data: request }, {\n      cache: false,\n    } as FetchOptions);\n    const validationError = PROCESSOR.validateResponse(response, request);\n    if (validationError) {\n      return Promise.reject(validationError);\n    }\n    return Promise.resolve(PROCESSOR.processResponse(cacheKey, response, request));\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\nexport default {\n  get,\n  setProcessor,\n  getProcessor,\n};\n","export type Action = string;\n\nexport interface ActionPayload {\n  rfkId?: string;\n\n  [propName: string]: any;\n}\n\nexport interface DispatcherListener {\n  handleAction(action: Action, payload: ActionPayload): void;\n}\n\nconst subscribers: Array<DispatcherListener> = [];\n\nexport default class Dispatcher {\n  static subscribe(listener: DispatcherListener): void {\n    subscribers.push(listener);\n  }\n\n  static async dispatch(action: Action, payload: ActionPayload) {\n    console.debug('SDK ::: dispatcher ::: dispatch', `[${action}]`, payload);\n    subscribers.forEach((subscriber: DispatcherListener) => {\n      subscriber.handleAction(action, { ...payload });\n    });\n  }\n}\n","import { mergeDeep } from '@rfk-sdk/common/lib';\nimport DataProvider from '@rfk-sdk/data/lib/api/dataProvider';\nimport { RequestOptions } from '@rfk-sdk/data/lib/api/dataProvider/types';\nimport RfkRequest from '@rfk-sdk/data/lib/api/rfkRequest';\nimport RFKActions from '../actions';\nimport PageController from '../controller/page';\nimport Dispatcher from '../dispatcher';\n\nexport default {\n  async getData(request: RfkRequest, options?: RequestOptions): Promise<any> {\n    const rfkId = request.getRfkId();\n    const pageContext = PageController.getContext();\n    const requestPayload = mergeDeep({ context: pageContext.toJson() }, request.toJson());\n    Dispatcher.dispatch(RFKActions.REQUEST, { rfkId, request, pageContext, requestPayload });\n    try {\n      const response = await DataProvider.get(requestPayload, options);\n      Dispatcher.dispatch(RFKActions.REQUEST_SUCCESS, { rfkId, request, pageContext, response, requestPayload });\n      return response;\n    } catch (error) {\n      Dispatcher.dispatch(RFKActions.REQUEST_FAIL, { error, rfkId, request, pageContext, requestPayload });\n      return Promise.reject(error);\n    }\n  },\n};\n","import { createModel } from '../model';\n\nimport model from './index.model';\nimport { Props, IContext } from './types/context';\n\nexport { IContext };\n\nconst Model = createModel<Props, IContext>(model);\n\nexport default class Context extends Model {}\n","import Context from '@rfk-sdk/data/lib/context';\n\nexport default class PageContext extends Context {}\n","import { debounce } from '@rfk-sdk/common/lib';\nimport * as FunnelEvents from '@rfk-sdk/data/lib/events/funnelEvents';\nimport InitRfkRequest from '@rfk-sdk/data/lib/api/initRfkRequest';\nimport { Observable, Observer } from '@rfk-sdk/data/lib/requestData';\nimport SearchRecResponse, { Widget as ResponseWidget, WidgetUsedIn } from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { RFKID } from '@rfk-sdk/models/lib/widget';\nimport Actions from '../actions';\nimport DataAdapter from '../dataAdapter';\nimport Dispatcher, { Action, ActionPayload, DispatcherListener } from '../dispatcher';\nimport PageContext from '../pageContext';\nimport { SDKSetupOptions, WidgetConfig } from '../types';\nimport WidgetsConfig from '../widgetsConfig';\n\nclass PageController implements DispatcherListener, Observer {\n  protected context: PageContext;\n  protected initialized: boolean = false;\n\n  constructor() {\n    this.setContext(new PageContext());\n    Dispatcher.subscribe(this);\n    this.onChange = debounce(this.onChange.bind(this), 50);\n  }\n\n  getContext(): PageContext {\n    return this.context;\n  }\n\n  setContext(context: PageContext): void {\n    this.context = context;\n    this.context.addListener(this);\n  }\n\n  register(listener: DispatcherListener): void {\n    Dispatcher.subscribe(listener);\n  }\n\n  getDispatcher(): typeof Dispatcher {\n    return Dispatcher;\n  }\n\n  processInitializeResponse(\n    request: InitRfkRequest,\n    response: SearchRecResponse,\n  ): { widgets: { inPage: Array<RFKID>; common: Array<RFKID> } } {\n    const { batch = [], widget } = response;\n    const inPage: Array<RFKID> = [];\n    const common: Array<RFKID> = [];\n    const widgets = widget ? [{ widget }] : batch;\n    if (widgets.length > 0) {\n      const customWidgets = (request.getBatchItems() || [])\n        .map(({ widget: { rfkid } = {} }) => rfkid)\n        .filter((rfkId) => !!rfkId);\n      widgets\n        .filter(({ widget }) => !!widget)\n        // eslint-disable-next-line camelcase\n        .forEach(({ widget: { rfkid: rfkId, used_in: usedIn } }: { widget: ResponseWidget }) => {\n          if (!customWidgets?.includes(rfkId) && usedIn === WidgetUsedIn.PAGE) {\n            inPage.push(rfkId);\n          } else {\n            common.push(rfkId);\n          }\n        });\n    }\n    return { widgets: { inPage, common } };\n  }\n\n  canPreRender(rfkId: RFKID): boolean {\n    const { type, options: { preRender = false } = {} } = WidgetsConfig.get(rfkId) || {};\n    return !!type && preRender;\n  }\n\n  setupWidgets(widget: WidgetConfig, options: SDKSetupOptions) {\n    WidgetsConfig.set(widget.rfkId, widget);\n    if (this.canPreRender(widget.rfkId)) {\n      Dispatcher.dispatch(Actions.WIDGET_READY, { rfkId: widget.rfkId, options });\n    }\n  }\n\n  async initialize(\n    isContainer: boolean,\n    widgets: Array<WidgetConfig>,\n    includeWidgets: Array<RFKID>,\n    options: SDKSetupOptions = {},\n  ) {\n    widgets.forEach((widget) => this.setupWidgets(widget, options));\n    const request = new InitRfkRequest(includeWidgets, !options.pageContainerDisabled && isContainer);\n    const response = await DataAdapter.getData(request);\n    const {\n      widgets: { inPage: widgetsInPage, common: commonWidgets },\n    } = this.processInitializeResponse(request, response);\n    if (widgetsInPage.length > 0) {\n      Dispatcher.dispatch(Actions.PAGE_CONTAINER_READY, { widgets: widgetsInPage, options });\n    }\n    commonWidgets\n      .filter((rfkId) => !this.canPreRender(rfkId))\n      .forEach((rfkId) => {\n        Dispatcher.dispatch(Actions.WIDGET_READY, { rfkId, options });\n      });\n\n    this.initialized = true;\n    Dispatcher.dispatch(Actions.INITIALIZED, {});\n  }\n\n  handleAction(action: Action, payload: ActionPayload): void {\n    switch (action) {\n      case Actions.INITIALIZE: {\n        const { isContainer, includeWidgets = [], widgets = [], options } = payload;\n        this.initialize(isContainer, widgets, includeWidgets, options);\n        break;\n      }\n      case Actions.ADD_TO_CART: {\n        const { sku, quantity, price, priceOriginal, page = 'unknown' } = payload;\n        FunnelEvents.trackAddToCart([{ sku, quantity, price, priceOriginal }], page, this.getContext().toJson());\n        break;\n      }\n      case Actions.ADD_TO_WISHLIST: {\n        const { sku, quantity, price, priceOriginal, page = 'unknown' } = payload;\n        FunnelEvents.trackAddToCart([{ sku, quantity, price, priceOriginal }], page, this.getContext().toJson());\n        break;\n      }\n      case Actions.USER_LOGIN: {\n        const { id, email } = payload;\n        FunnelEvents.trackUserLogin({ id, email }, this.getContext().toJson());\n        break;\n      }\n      case Actions.CART_STATUS: {\n        const { products } = payload;\n        FunnelEvents.trackStatusCart(products, this.getContext().toJson());\n        break;\n      }\n      case Actions.ORDER_CONFIRM: {\n        const { products, user, orderId, subtotal, total } = payload;\n        FunnelEvents.trackOrderConfirm(products, user, { orderId, subtotal, total }, this.getContext().toJson());\n        break;\n      }\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onChange(observable: Observable, name: string, value: any): void {\n    if (this.initialized) {\n      Dispatcher.dispatch(Actions.PAGE_CONTEXT_CHANGED, { context: this.context });\n    }\n  }\n}\n\nexport default new PageController();\n","/*\nhttps://davidwalsh.name/javascript-debounce-function\n*/\nexport function debounce(func: () => void, wait: number, immediate?: boolean) {\n  let timeout: any;\n  return function returnFn<T>(this: T, ...rest: Array<any>) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this;\n    const args = rest;\n    const later = function executeFn() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=void 0},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as v,Fragment as d,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=S({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:v(v(n).map(t))},k={map:N,forEach:N,count:function(n){return n?v(n).length:0},only:function(n){var t=v(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:v},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(d,null,n.fallback);return u&&(u.__h=null),[s(d,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=v(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function $(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var q,G={configurable:!0,get:function(){return this.class}},J=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=v(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=v(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(G.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=j,J&&J(n)};var K=h.__r;h.__r=function(n){K&&K(n),q=n.__c};var Q={ReactCurrentDispatcher:{current:{readContext:function(n){return q.__n[n.__c].props.value}}}},X=\"17.0.2\";function nn(n){return s.bind(null,n)}function tn(n){return!!n&&n.$$typeof===j}function en(n){return tn(n)?y.apply(null,arguments):n}function rn(n){return!!n.__k&&(p(null,n),!0)}function un(n){return n&&(n.base||1===n.nodeType&&n)||null}var on=function(n,t){return n(t)},ln=function(n,t){return n(t)},fn=d;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"17.0.2\",Children:k,render:z,hydrate:B,unmountComponentAtNode:rn,createPortal:W,createElement:s,createContext:_,createFactory:nn,cloneElement:en,createRef:b,Fragment:d,isValidElement:tn,findDOMNode:un,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:ln,unstable_batchedUpdates:on,StrictMode:d,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q};export{X as version,k as Children,z as render,B as hydrate,rn as unmountComponentAtNode,W as createPortal,nn as createFactory,en as cloneElement,tn as isValidElement,un as findDOMNode,E as PureComponent,g as memo,x as forwardRef,ln as flushSync,on as unstable_batchedUpdates,fn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,Q as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { createElement, Component, useRef, useState, useCallback, useEffect } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar ObserverMap = new Map();\nvar RootIds = new WeakMap();\nvar rootId = 0;\n/**\r\n * Generate a unique ID for the root element\r\n * @param root\r\n */\n\nfunction getRootId(root) {\n  if (!root) return '0';\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\n/**\r\n * Convert the options to a string Id, based on the values.\r\n * Ensures we can reuse the same observer when observing elements with the same options.\r\n * @param options\r\n */\n\n\nfunction optionsToId(options) {\n  return Object.keys(options).sort().filter(function (key) {\n    return options[key] !== undefined;\n  }).map(function (key) {\n    return key + \"_\" + (key === 'root' ? getRootId(options.root) : options[key]);\n  }).toString();\n}\n\nfunction createObserver(options) {\n  // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  var id = optionsToId(options);\n  var instance = ObserverMap.get(id);\n\n  if (!instance) {\n    // Create a map of elements this observer is going to observe. Each element has a list of callbacks that should be triggered, once it comes into view.\n    var elements = new Map();\n    var thresholds;\n    var observer = new IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        var _elements$get;\n\n        // While it would be nice if you could just look at isIntersecting to determine if the component is inside the viewport, browsers can't agree on how to use it.\n        // -Firefox ignores `threshold` when considering `isIntersecting`, so it will never be false again if `threshold` is > 0\n        var inView = entry.isIntersecting && thresholds.some(function (threshold) {\n          return entry.intersectionRatio >= threshold;\n        }); // @ts-ignore support IntersectionObserver v2\n\n        if (options.trackVisibility && typeof entry.isVisible === 'undefined') {\n          // The browser doesn't support Intersection Observer v2, falling back to v1 behavior.\n          // @ts-ignore\n          entry.isVisible = inView;\n        }\n\n        (_elements$get = elements.get(entry.target)) == null ? void 0 : _elements$get.forEach(function (callback) {\n          callback(inView, entry);\n        });\n      });\n    }, options); // Ensure we have a valid thresholds array. If not, use the threshold from the options\n\n    thresholds = observer.thresholds || (Array.isArray(options.threshold) ? options.threshold : [options.threshold || 0]);\n    instance = {\n      id: id,\n      observer: observer,\n      elements: elements\n    };\n    ObserverMap.set(id, instance);\n  }\n\n  return instance;\n}\n/**\r\n * @param element - DOM Element to observe\r\n * @param callback - Callback function to trigger when intersection status changes\r\n * @param options - Intersection Observer options\r\n * @return Function - Cleanup function that should be triggered to unregister the observer\r\n */\n\n\nfunction observe(element, callback, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (!element) return function () {}; // An observer with the same options can be reused, so lets use this fact\n\n  var _createObserver = createObserver(options),\n      id = _createObserver.id,\n      observer = _createObserver.observer,\n      elements = _createObserver.elements; // Register the callback listener for this element\n\n\n  var callbacks = elements.get(element) || [];\n\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n\n  callbacks.push(callback);\n  observer.observe(element);\n  return function unobserve() {\n    // Remove the callback from the callback list\n    callbacks.splice(callbacks.indexOf(callback), 1);\n\n    if (callbacks.length === 0) {\n      // No more callback exists for element, so destroy it\n      elements[\"delete\"](element);\n      observer.unobserve(element);\n    }\n\n    if (elements.size === 0) {\n      // No more elements are being observer by this instance, so destroy it\n      observer.disconnect();\n      ObserverMap[\"delete\"](id);\n    }\n  };\n}\n\nfunction isPlainChildren(props) {\n  return typeof props.children !== 'function';\n}\n/**\r\n ## Render props\r\n\n To use the `<InView>` component, you pass it a function. It will be called\r\n whenever the state changes, with the new value of `inView`. In addition to the\r\n `inView` prop, children also receive a `ref` that should be set on the\r\n containing DOM element. This is the element that the IntersectionObserver will\r\n monitor.\r\n\n If you need it, you can also access the\r\n [`IntersectionObserverEntry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry)\r\n on `entry`, giving you access to all the details about the current intersection\r\n state.\r\n\n ```jsx\r\n import { InView } from 'react-intersection-observer';\r\n\n const Component = () => (\r\n <InView>\r\n {({ inView, ref, entry }) => (\r\n      <div ref={ref}>\r\n        <h2>{`Header inside viewport ${inView}.`}</h2>\r\n      </div>\r\n    )}\r\n </InView>\r\n );\r\n\n export default Component;\r\n ```\r\n\n ## Plain children\r\n\n You can pass any element to the `<InView />`, and it will handle creating the\r\n wrapping DOM element. Add a handler to the `onChange` method, and control the\r\n state in your own component. Any extra props you add to `<InView>` will be\r\n passed to the HTML element, allowing you set the `className`, `style`, etc.\r\n\n ```jsx\r\n import { InView } from 'react-intersection-observer';\r\n\n const Component = () => (\r\n <InView as=\"div\" onChange={(inView, entry) => console.log('Inview:', inView)}>\r\n <h2>Plain children are always rendered. Use onChange to monitor state.</h2>\r\n </InView>\r\n );\r\n\n export default Component;\r\n ```\r\n */\n\n\nvar InView = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(InView, _React$Component);\n\n  function InView(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.node = null;\n    _this._unobserveCb = null;\n\n    _this.handleNode = function (node) {\n      if (_this.node) {\n        // Clear the old observer, before we start observing a new element\n        _this.unobserve();\n\n        if (!node && !_this.props.triggerOnce && !_this.props.skip) {\n          // Reset the state if we get a new node, and we aren't ignoring updates\n          _this.setState({\n            inView: !!_this.props.initialInView,\n            entry: undefined\n          });\n        }\n      }\n\n      _this.node = node ? node : null;\n\n      _this.observeNode();\n    };\n\n    _this.handleChange = function (inView, entry) {\n      if (inView && _this.props.triggerOnce) {\n        // If `triggerOnce` is true, we should stop observing the element.\n        _this.unobserve();\n      }\n\n      if (!isPlainChildren(_this.props)) {\n        // Store the current State, so we can pass it to the children in the next render update\n        // There's no reason to update the state for plain children, since it's not used in the rendering.\n        _this.setState({\n          inView: inView,\n          entry: entry\n        });\n      }\n\n      if (_this.props.onChange) {\n        // If the user is actively listening for onChange, always trigger it\n        _this.props.onChange(inView, entry);\n      }\n    };\n\n    _this.state = {\n      inView: !!props.initialInView,\n      entry: undefined\n    };\n    return _this;\n  }\n\n  var _proto = InView.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold || prevProps.skip !== this.props.skip || prevProps.trackVisibility !== this.props.trackVisibility || prevProps.delay !== this.props.delay) {\n      this.unobserve();\n      this.observeNode();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unobserve();\n    this.node = null;\n  };\n\n  _proto.observeNode = function observeNode() {\n    if (!this.node || this.props.skip) return;\n    var _this$props = this.props,\n        threshold = _this$props.threshold,\n        root = _this$props.root,\n        rootMargin = _this$props.rootMargin,\n        trackVisibility = _this$props.trackVisibility,\n        delay = _this$props.delay;\n    this._unobserveCb = observe(this.node, this.handleChange, {\n      threshold: threshold,\n      root: root,\n      rootMargin: rootMargin,\n      // @ts-ignore\n      trackVisibility: trackVisibility,\n      // @ts-ignore\n      delay: delay\n    });\n  };\n\n  _proto.unobserve = function unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n\n      this._unobserveCb = null;\n    }\n  };\n\n  _proto.render = function render() {\n    if (!isPlainChildren(this.props)) {\n      var _this$state = this.state,\n          inView = _this$state.inView,\n          entry = _this$state.entry;\n      return this.props.children({\n        inView: inView,\n        entry: entry,\n        ref: this.handleNode\n      });\n    }\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        as = _this$props2.as,\n        tag = _this$props2.tag,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"as\", \"tag\", \"triggerOnce\", \"threshold\", \"root\", \"rootMargin\", \"onChange\", \"skip\", \"trackVisibility\", \"delay\", \"initialInView\"]);\n\n    return /*#__PURE__*/createElement(as || tag || 'div', _extends({\n      ref: this.handleNode\n    }, props), children);\n  };\n\n  return InView;\n}(Component);\nInView.displayName = 'InView';\nInView.defaultProps = {\n  threshold: 0,\n  triggerOnce: false,\n  initialInView: false\n};\n\n/**\r\n * React Hooks make it easy to monitor the `inView` state of your components. Call\r\n * the `useInView` hook with the (optional) [options](#options) you need. It will\r\n * return an array containing a `ref`, the `inView` status and the current\r\n * [`entry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry).\r\n * Assign the `ref` to the DOM element you want to monitor, and the hook will\r\n * report the status.\r\n *\r\n * @example\r\n * ```jsx\r\n * import React from 'react';\r\n * import { useInView } from 'react-intersection-observer';\r\n *\r\n * const Component = () => {\r\n *   const { ref, inView, entry } = useInView({\r\n *       threshold: 0,\r\n *   });\r\n *\r\n *   return (\r\n *     <div ref={ref}>\r\n *       <h2>{`Header inside viewport ${inView}.`}</h2>\r\n *     </div>\r\n *   );\r\n * };\r\n * ```\r\n */\n\nfunction useInView(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      threshold = _ref.threshold,\n      delay = _ref.delay,\n      trackVisibility = _ref.trackVisibility,\n      rootMargin = _ref.rootMargin,\n      root = _ref.root,\n      triggerOnce = _ref.triggerOnce,\n      skip = _ref.skip,\n      initialInView = _ref.initialInView;\n\n  var unobserve = useRef();\n\n  var _React$useState = useState({\n    inView: !!initialInView\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var setRef = useCallback(function (node) {\n    if (unobserve.current !== undefined) {\n      unobserve.current();\n      unobserve.current = undefined;\n    } // Skip creating the observer\n\n\n    if (skip) return;\n\n    if (node) {\n      unobserve.current = observe(node, function (inView, entry) {\n        setState({\n          inView: inView,\n          entry: entry\n        });\n\n        if (entry.isIntersecting && triggerOnce && unobserve.current) {\n          // If it should only trigger once, unobserve the element after it's inView\n          unobserve.current();\n          unobserve.current = undefined;\n        }\n      }, {\n        root: root,\n        rootMargin: rootMargin,\n        threshold: threshold,\n        // @ts-ignore\n        trackVisibility: trackVisibility,\n        // @ts-ignore\n        delay: delay\n      });\n    }\n  }, // We break the rule here, because we aren't including the actual `threshold` variable\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [// If the threshold is an array, convert it to a string so it won't change between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  Array.isArray(threshold) ? threshold.toString() : threshold, root, rootMargin, triggerOnce, skip, trackVisibility, delay]);\n  /* eslint-disable-next-line */\n\n  useEffect(function () {\n    if (!unobserve.current && state.entry && !triggerOnce && !skip) {\n      // If we don't have a ref, then reset the state (unless the hook is set to only `triggerOnce` or `skip`)\n      // This ensures we correctly reflect the current state - If you aren't observing anything, then nothing is inView\n      setState({\n        inView: !!initialInView\n      });\n    }\n  });\n  var result = [setRef, state.inView, state.entry]; // Support object destructuring, by adding the specific values.\n\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n  return result;\n}\n\nexport default InView;\nexport { InView, observe, useInView };\n//# sourceMappingURL=react-intersection-observer.m.js.map\n","import { createContext, PreactContext } from 'preact';\nimport { IContext } from '@rfk-sdk/data/lib/context';\nimport { Store } from '@rfk-sdk/core/lib/store';\nimport { RFKID } from '@rfk-sdk/models/lib/widget';\nimport { WidgetConfigOptions } from '@rfk-sdk/core/lib/types';\n\nexport type WidgetContextValues = {\n  store: Store;\n  context: IContext;\n  dispatch: any;\n  rfkId: RFKID;\n  options: WidgetConfigOptions;\n};\n\nconst WidgetContext: PreactContext<Partial<WidgetContextValues>> = createContext({});\n\nexport default WidgetContext;\n","import { useContext } from 'preact/hooks';\nimport WidgetContext, { WidgetContextValues } from '../WidgetContext';\n\nconst useWidget = (): Partial<WidgetContextValues> => {\n  return useContext(WidgetContext);\n};\n\nexport default useWidget;\n","import { useCallback, useEffect } from 'preact/hooks';\nimport { useInView } from 'react-intersection-observer';\n\nimport RFKActions from '@rfk-sdk/core/lib/actions';\nimport { Action, ActionPayload } from '@rfk-sdk/core/lib/dispatcher';\nimport { WidgetConfigVisibilityOptions } from '@rfk-sdk/core/lib/types';\nimport useWidget from './useWidget';\n\ntype Dispatch = (action: Action, payload: ActionPayload) => void;\nexport const dispatchWidgetAppearAction = (dispatch: Dispatch): void =>\n  dispatch(RFKActions.WIDGET_APPEAR, { time: Date.now() });\n\nconst useWidgetVisibility = (appearOptions?: WidgetConfigVisibilityOptions) => {\n  const { dispatch, options: { visibility = {} } = {} } = useWidget();\n  const visibilityOptions = appearOptions || visibility;\n  const { ref, inView, entry } = useInView(visibilityOptions);\n\n  const { manual } = visibilityOptions;\n\n  const trigger = useCallback(() => {\n    dispatchWidgetAppearAction(dispatch);\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (manual && inView) {\n      dispatchWidgetAppearAction(dispatch);\n    }\n  }, [dispatch, inView, entry, manual]);\n\n  return { ref, inView, entry, trigger };\n};\n\nexport default useWidgetVisibility;\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import { h, Component, createContext, render } from 'preact';\n\nimport htm from 'htm';\nconst html = htm.bind(h);\n\nexport { h, html, render, Component, createContext };\n","import { Store } from '@rfk-sdk/core/lib/store';\nimport RFKActions from '@rfk-sdk/core/lib/actions';\nimport WidgetController, { WidgetControllerClass } from '@rfk-sdk/core/lib/controller/widget';\nimport PageController from '@rfk-sdk/core/lib/controller/page';\nimport { Action, ActionPayload } from '@rfk-sdk/core/lib/dispatcher';\nimport { MapPropsInput, WidgetComponent, WidgetConfigOptions } from '@rfk-sdk/core/lib/types';\nimport withWidgetAppear from './hocs/withWidgetAppear';\nimport { dispatchWidgetAppearAction } from './hooks/useWidgetVisibility';\nimport { Component, h } from './htm';\nimport WidgetContext from './WidgetContext';\n\nconst mapProps = (data: MapPropsInput, props: any, options: WidgetConfigOptions): any => {\n  const { mapping: { mapProps: customMapProps } = {} } = options;\n  if (customMapProps) {\n    return customMapProps(data, props, options);\n  }\n  return data.state;\n};\n\nfunction getController(Controller: WidgetControllerClass, rfkId: string): WidgetController {\n  const controller = new Controller(rfkId);\n  PageController.register(controller);\n  return controller;\n}\n\nexport default function setupWidget(\n  Controller: WidgetControllerClass,\n  WidgetComp: WidgetComponent,\n  options: WidgetConfigOptions = {},\n) {\n  const Dispatcher = PageController.getDispatcher();\n  let controller: WidgetController;\n  let store: Store;\n  if (options.rfkId) {\n    controller = getController(Controller, options.rfkId);\n    store = controller.getStore();\n  }\n\n  function Wrapper(this: Component, props: any) {\n    const { manual, onUpdate, onInView, ...withWidgetAppearOptions } = options.visibility || {};\n    if (!controller) {\n      controller = getController(Controller, props.rfkId);\n      store = controller.getStore();\n    }\n    const id = options.rfkId || props.rfkId;\n    let state = store.getState();\n    const dispatch = (action: Action, payload: ActionPayload) => Dispatcher.dispatch(action, { rfkId: id, ...payload });\n    const WrappedComponent = manual\n      ? WidgetComp\n      : withWidgetAppear(WidgetComp, withWidgetAppearOptions, {\n          onInView: () => {\n            dispatchWidgetAppearAction(dispatch);\n            onInView && onInView();\n          },\n          onUpdate: (inView: boolean, entry: any) => {\n            onUpdate && onUpdate(inView, entry);\n          },\n        });\n    const update = () => {\n      const mapped = store.getState();\n      for (const i in mapped)\n        if (mapped[i] !== state[i]) {\n          state = mapped;\n          return this.setState({});\n        }\n      for (const i in state)\n        if (!(i in mapped)) {\n          state = mapped;\n          return this.setState({});\n        }\n    };\n    this.componentWillReceiveProps = (p: any) => {\n      props = p;\n      update();\n    };\n    this.componentDidMount = () => {\n      store.subscribe(update);\n      Dispatcher.dispatch(RFKActions.LOAD, {\n        ...props,\n        rfkId: id,\n      });\n    };\n    this.componentWillUnmount = () => {\n      store.unsubscribe(update);\n    };\n    this.render = (props: any) => {\n      return h(WidgetContext.Provider, {\n        value: {\n          store,\n          rfkId: id,\n          dispatch,\n          context: controller?.getContext(),\n          options,\n        },\n        children: h(\n          WrappedComponent,\n          Object.assign(\n            {\n              rfkId: id,\n              dispatch,\n            },\n            props,\n            state,\n            mapProps({ rfkId: id, state, context: controller?.getContext() }, props, options),\n          ),\n        ),\n      });\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return ((Wrapper.prototype = new Component()).constructor = Wrapper);\n}\n","import { WidgetComponent, WidgetConfigVisibilityOptions } from '@rfk-sdk/core/lib/types';\nimport useWidgetVisibility from '../hooks/useWidgetVisibility';\nimport { useCallback, useEffect } from 'preact/hooks';\nimport { findDOMNode } from 'preact/compat';\nimport { h } from '../htm';\n\nexport default (\n  WidgetComp: WidgetComponent,\n  appearOptions: WidgetConfigVisibilityOptions,\n  { onUpdate, onInView }: any,\n) => {\n  const Wrapper = (props: any) => {\n    const { ref, inView, entry } = useWidgetVisibility(appearOptions);\n    const setRef = useCallback(\n      (target: any) => {\n        if (!target) {\n          ref(null);\n        } else if (target.nodeType === 1) {\n          ref(target);\n        } else {\n          const targetNode = findDOMNode(target);\n          if (targetNode && targetNode.nodeType === 1) {\n            ref(targetNode);\n          }\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [\n        ref,\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        props.available,\n      ],\n    );\n\n    useEffect(() => {\n      if (inView) {\n        onInView(entry);\n      }\n      onUpdate(inView, entry);\n    }, [inView, entry]);\n\n    return h(WidgetComp, { ...props, ref: setRef });\n  };\n  Wrapper.displayName = 'withWidgetAppear';\n  return Wrapper;\n};\n","import WidgetController from '@rfk-sdk/core/lib/controller/widget';\nimport { RFKID } from '@rfk-sdk/models/lib/widget';\nimport WidgetsConfig from '@rfk-sdk/core/lib/widgetsConfig';\nimport { WidgetComponent, WidgetConfig } from '@rfk-sdk/core/lib/types';\n\nabstract class WidgetFactory {\n  getWidgetComponentConfig(rfkId: RFKID): WidgetConfig | undefined {\n    const widgetComponentConfig = WidgetsConfig.get(rfkId);\n    if (!widgetComponentConfig) {\n      console.warn(`Widget \"${rfkId}\" is not supported`);\n    }\n    return widgetComponentConfig;\n  }\n\n  abstract doSetup(\n    Controller: typeof WidgetController,\n    widgetComponentConfig: WidgetConfig,\n    rfkId: RFKID,\n  ): WidgetComponent;\n\n  setup(rfkId: RFKID): WidgetComponent {\n    const Controller: typeof WidgetController | undefined = WidgetsConfig.getController(rfkId);\n    const widgetComponentConfig = this.getWidgetComponentConfig(rfkId);\n    if (Controller && widgetComponentConfig) {\n      return this.doSetup(Controller, widgetComponentConfig, rfkId);\n    }\n  }\n}\n\nexport default WidgetFactory;\n","export default {\n  visibility: {\n    threshold: 0.2,\n    triggerOnce: true,\n  },\n};\n","import { RFKID } from '@rfk-sdk/models/lib/widget';\nimport { mergeDeep } from '@rfk-sdk/common/lib/merge';\nimport { WidgetControllerClass } from '@rfk-sdk/core/lib/controller/widget';\nimport { WidgetComponent, WidgetConfig } from '@rfk-sdk/core/lib/types';\nimport WidgetFactory from '../../widgetFactory';\nimport setupWidget from './setupWidget';\nimport defaultConfig from '../../defaultWidgetConfig';\n\nclass PreactWidgetFactory extends WidgetFactory {\n  doSetup(Controller: WidgetControllerClass, widgetComponentConfig: WidgetConfig, rfkId: RFKID): WidgetComponent {\n    const { Component, options } = widgetComponentConfig;\n    return setupWidget(Controller, Component, {\n      ...mergeDeep(defaultConfig, options),\n      rfkId,\n    });\n  }\n}\n\nexport default PreactWidgetFactory;\n","import { RFKID } from '@rfk-sdk/models/lib/widget';\nimport { WidgetComponent } from '@rfk-sdk/core/lib/types';\nimport WidgetFactory from './widgetFactory';\n\nabstract class WidgetRenderer {\n  protected widgetFactory: WidgetFactory;\n\n  constructor(widgetFactory: WidgetFactory) {\n    this.widgetFactory = widgetFactory;\n  }\n\n  abstract doRender(widgetComponent: WidgetComponent, to: HTMLElement): void;\n\n  abstract createElement(rfkId: RFKID): HTMLElement;\n\n  render(rfkId: RFKID, to: HTMLElement): void {\n    const widgetComponent: WidgetComponent = this.widgetFactory.setup(rfkId);\n    if (widgetComponent) {\n      this.doRender(widgetComponent, to);\n    }\n  }\n}\n\nexport default WidgetRenderer;\n","import { RFKID } from '@rfk-sdk/models/lib/widget';\nimport { WidgetComponent } from '@rfk-sdk/core/lib/types';\nimport { html, render } from './htm';\nimport WidgetRenderer from '../../widgetRenderer';\n\nclass PreactWidgetRenderer extends WidgetRenderer {\n  createElement(rfkId: RFKID): HTMLElement {\n    const element: HTMLElement = document.createElement('div');\n    element.dataset.rfkid = rfkId;\n    return element;\n  }\n\n  doRender(widgetComponent: WidgetComponent, to: HTMLElement): void {\n    const props = Object.keys(to.dataset)\n      .filter((key) => key.startsWith('rfkWidget'))\n      .reduce((mem, key) => {\n        const newKey = key.replace('rfkWidget', '');\n        const newKeyFormatted = newKey.charAt(0).toLowerCase() + newKey.slice(1);\n        return Object.assign(mem, {\n          [newKeyFormatted]: to.dataset[key],\n        });\n      }, {});\n    render(html`<${widgetComponent} ...${props} />`, to);\n  }\n}\n\nexport default PreactWidgetRenderer;\n","import { RFKID } from '@rfk-sdk/models/lib/widget';\nimport WidgetRenderer from './widgetRenderer';\n\nclass ContainerRenderer {\n  protected widgetRenderer: WidgetRenderer;\n\n  constructor(widgetRenderer: WidgetRenderer) {\n    this.widgetRenderer = widgetRenderer;\n  }\n\n  render(rfkIds: Array<RFKID>, to: HTMLElement) {\n    for (let i = 0; i < rfkIds.length; i++) {\n      const rfkId = rfkIds[i];\n      const child: HTMLElement = this.widgetRenderer.createElement(rfkId);\n      to.appendChild(child);\n      this.widgetRenderer.render(rfkId, child);\n    }\n  }\n}\n\nexport default ContainerRenderer;\n","import { RFKID } from '@rfk-sdk/models/lib/widget';\nimport ContainerRendererFactory from '../../containerRendererFactory';\nimport ContainerRenderer from '../../containerRenderer';\nimport PreactWidgetRenderer from './widgetRenderer';\n\nclass PreactContainerRendererFactory implements ContainerRendererFactory {\n  protected renderer: ContainerRenderer;\n\n  constructor(widgetRenderer: PreactWidgetRenderer) {\n    this.renderer = new ContainerRenderer(widgetRenderer);\n  }\n\n  render(rfkIds: Array<RFKID>, node: HTMLElement): void {\n    this.renderer.render(rfkIds, node);\n  }\n}\n\nexport default PreactContainerRendererFactory;\n","import { RFKID } from '@rfk-sdk/models/lib/widget';\nimport { track } from './eventUtils';\n\nexport type WidgetEventName = 'click' | 'appear';\nexport type ClickEventType =\n  | 'close'\n  | 'product'\n  | 'view'\n  | 'pagination'\n  | 'a2c'\n  | 'all_a2c'\n  | 'category'\n  | 'article'\n  | 'other'\n  | 'swarch'\n  | 'signup'\n  | 'facet';\n\nexport type Feature = 'sp' | 'sb' | 'rw';\nexport type FeatureArg = Feature | null | undefined;\n\nexport interface ClickEvent {\n  type: ClickEventType;\n  subType?: string;\n  feature?: FeatureArg;\n}\n\n/**\n * @desc Tracks generic widget events..\n * @param rfkId String: widget id\n * @param name\n * @param feature String: widget type: sb|sp|rw\n * @param additionalValues\n * @param context: Context\n * @returns {Promise<*>}\n */\nexport const trackWidgetEvent = async (\n  rfkId: RFKID,\n  name: WidgetEventName,\n  feature: FeatureArg,\n  additionalValues: any,\n  context?: any,\n): Promise<any> => {\n  if (rfkId) {\n    const params = {\n      data: {\n        name,\n        type: 'widget',\n        value: {\n          rfkid: rfkId,\n          ...(feature ? { f: feature } : []),\n          ...(context ? { context } : []),\n          ...additionalValues,\n        },\n      },\n    };\n    return track(params);\n  }\n  return Promise.reject(new Error('widget has not been provided'));\n};\n\n/**\n * @desc: tracks when the discover widget appears.\n * @param rfkId\n * @param context\n */\nexport const trackAppearEvent = async (rfkId: RFKID, context?: any): Promise<any> => {\n  return trackWidgetEvent(rfkId, 'appear', null, {}, context);\n};\n\n/**\n * @desc: Fires an event when the user clicks on any of the discover tabs.\n * @param widget\n * @param type\n * @param subType\n * @param feature\n * @param additionalValues\n * @param context\n */\nexport const trackWidgetClickEvent = async (\n  widget: string,\n  { type, subType, feature }: ClickEvent,\n  additionalValues: any,\n  context?: any,\n): Promise<any> => {\n  return trackWidgetEvent(\n    widget,\n    'click',\n    feature,\n    {\n      click_type: type,\n      click_sub_type: subType,\n      ...additionalValues,\n    },\n    context,\n  );\n};\n","import { mergeDeep } from '@rfk-sdk/common/lib';\nimport { RequestOptions } from '@rfk-sdk/data/lib/api/dataProvider/types';\nimport RfkRequest from '@rfk-sdk/data/lib/api/rfkRequest';\nimport Context from '@rfk-sdk/data/lib/context';\nimport * as EventTracker from '@rfk-sdk/data/lib/events/eventTracker';\nimport RFKActions from '../actions';\nimport DataAdapter from '../dataAdapter';\nimport { Action, ActionPayload, DispatcherListener } from '../dispatcher';\nimport createStore, { Store, StoreState } from '../store';\nimport PageController from './page';\n\nexport type actionFunctionType = (actionType: string, payload: any) => void;\n\n// eslint-disable-next-line no-use-before-define\nexport default abstract class Widget implements DispatcherListener {\n  protected request: RfkRequest;\n  protected context: Context;\n  protected onHandleActions: actionFunctionType;\n  protected store: Store;\n  protected rfkId: string;\n\n  constructor(rfkId: string) {\n    this.store = createStore({}, rfkId);\n    this.rfkId = rfkId;\n    this.onHandleActions = (actionType: Action, payload: ActionPayload) => {};\n    this.context = new Context();\n    this.resetRequest();\n  }\n\n  abstract initializeRequest(): Widget;\n\n  setState(changes: StoreState) {\n    this.store.setState(changes);\n  }\n\n  getState(): StoreState {\n    return this.store.getState();\n  }\n\n  getStore(): any {\n    return this.store;\n  }\n\n  getContext(): Context {\n    return this.context;\n  }\n\n  getContextJson(): any {\n    return mergeDeep(PageController.getContext().toJson(), this.request.toJson('context').context || {});\n  }\n\n  fetch(options?: RequestOptions): Promise<any> {\n    return DataAdapter.getData(this.request, options);\n  }\n\n  onPageContextChange(): void {\n    this.fetch();\n  }\n\n  onWidgetAppear(): void {\n    EventTracker.trackAppearEvent(this.rfkId, this.getContextJson());\n  }\n\n  resetRequest() {\n    this.initializeRequest();\n    this.request.setRfkId(this.rfkId);\n  }\n\n  reset() {\n    this.store.reset();\n    this.resetRequest();\n  }\n\n  abstract handleInternalActions(actionType: string, payload: any): any;\n\n  handleAction(actionType: Action, payload: ActionPayload): void {\n    const { rfkId } = payload;\n    switch (actionType) {\n      case RFKActions.PAGE_CONTEXT_CHANGED: {\n        this.onPageContextChange();\n        break;\n      }\n    }\n    if (rfkId === this.rfkId) {\n      switch (actionType) {\n        case RFKActions.RESET_WIDGET:\n          this.reset();\n          break;\n        case RFKActions.WIDGET_APPEAR:\n          this.onWidgetAppear();\n          break;\n      }\n      this.handleInternalActions(actionType, payload);\n    }\n    this.onHandleActions(actionType, payload);\n  }\n\n  setOnHandleActions(f: actionFunctionType): void {\n    this.onHandleActions = f;\n  }\n\n  getId(): string {\n    return this.rfkId;\n  }\n}\n\nexport type WidgetControllerClass = new (rfkId: string) => Widget;\n","export interface StoreState {\n  loading?: boolean;\n  loaded?: boolean;\n  available?: boolean;\n\n  [propName: string]: any;\n}\n\nexport type StoreListener = (state: StoreState) => void;\n\nexport interface Store {\n  reset(): void;\n  setState(update: StoreState, overwrite?: boolean): void;\n  getState(): StoreState;\n  subscribe(subscriber: StoreListener): () => void;\n  unsubscribe(subscriber: StoreListener): void;\n}\n\nexport default function createStore(state: StoreState, rfkId: string): Store {\n  let listeners: Array<StoreListener> = [];\n  state = state || {};\n\n  function unsubscribe(listener: StoreListener | null) {\n    const out = [];\n    for (let i = 0; i < listeners.length; i++) {\n      if (listeners[i] === listener) {\n        listener = null;\n      } else {\n        out.push(listeners[i]);\n      }\n    }\n    listeners = out;\n  }\n\n  function setState(update: StoreState, overwrite?: boolean): void {\n    const newState: StoreState = overwrite ? update : Object.assign({}, state, update);\n    console.debug(\n      'SDK ::: store ::: update :::',\n      rfkId,\n      '::: prev',\n      JSON.parse(JSON.stringify(state)),\n      'next',\n      JSON.parse(JSON.stringify(newState)),\n    );\n    state = newState;\n    const currentListeners: Array<StoreListener> = listeners;\n    for (let i = 0; i < currentListeners.length; i++) currentListeners[i](state);\n  }\n  return {\n    reset() {\n      state = {};\n    },\n    setState,\n    subscribe(listener: StoreListener) {\n      listeners.push(listener);\n      return () => {\n        unsubscribe(listener);\n      };\n    },\n    unsubscribe,\n    getState(): StoreState {\n      return state;\n    },\n  };\n}\n","import * as EventTracker from './eventTracker';\n\n/**\n * @desc: Fires an event when the user clicks on any of the discover tabs.\n * @param widget\n * @param subType\n * @param textId\n * @param text\n * @param index\n * @param context\n */\nexport const trackChoiceChange = async (\n  widget: string,\n  subType: string,\n  textId: string | undefined,\n  text: string | undefined,\n  index: number,\n  context?: any,\n): Promise<any> => {\n  return EventTracker.trackWidgetClickEvent(\n    widget,\n    { type: 'facet', subType },\n    {\n      click_text_id: textId,\n      click_text: text,\n      index,\n    },\n    context,\n  );\n};\n\n/**\n * @desc: Main Product change\n * @param widget\n * @param sku\n * @param index\n * @param context\n */\nexport const trackProductChange = async (widget: string, sku: string, index: number, context?: any): Promise<any> => {\n  return EventTracker.trackWidgetClickEvent(\n    widget,\n    {\n      type: 'product',\n      subType: 'product_switch',\n    },\n    {\n      index,\n      products: [{ sku }],\n    },\n    context,\n  );\n};\n\n/**\n * @desc: tracks a click on a product.\n * @param widget\n * @param sku\n * @param index\n * @param context\n */\nexport const trackClickToProduct = async (widget: string, sku: string, index: number, context?: any): Promise<any> => {\n  return EventTracker.trackWidgetClickEvent(\n    widget,\n    {\n      type: 'product',\n      subType: 'product',\n    },\n    {\n      index,\n      products: [{ sku }],\n    },\n    context,\n  );\n};\n\n/**\n * @desc: tracks a click on a swatch.\n * @param widget\n * @param sku\n * @param index\n * @param context\n */\nexport const trackSwatchChange = async (widget: string, sku: string, index: number, context?: any): Promise<any> => {\n  return EventTracker.trackWidgetClickEvent(\n    widget,\n    {\n      type: 'product',\n      subType: 'swatch',\n    },\n    {\n      index,\n      products: [{ sku }],\n    },\n    context,\n  );\n};\n\n/**\n *\n * @param widget\n * @param orientationId\n * @param orientationText\n * @param context\n */\nexport const trackNavigationChange = async (\n  widget: string,\n  orientationId: string,\n  orientationText: string,\n  context?: any,\n): Promise<any> => {\n  return EventTracker.trackWidgetClickEvent(\n    widget,\n    {\n      type: 'pagination',\n    },\n    {\n      click_text: orientationText,\n      click_text_id: orientationId,\n    },\n    context,\n  );\n};\n\n/**\n *\n *\n * @desc: tracks a close click.\n * @param widget\n * @param clickText\n * @param context\n */\nexport const trackClose = async (widget: string, clickText: string, context?: any): Promise<any> => {\n  return EventTracker.trackWidgetClickEvent(\n    widget,\n    {\n      type: 'close',\n    },\n    {\n      click_text: clickText,\n    },\n    context,\n  );\n};\n","import * as EventTracker from './eventTracker';\n\n/**\n *\n * @param widget\n * @param sku\n * @param index\n * @param kw\n * @param m\n * @param context\n */\nexport const trackFullPageSearchClick = async (\n  widget: string,\n  sku: string,\n  index: number = 0,\n  kw: string = '',\n  m: string = '',\n  context?: any,\n): Promise<any> => {\n  if (widget) {\n    if (sku) {\n      return EventTracker.trackWidgetEvent(\n        widget,\n        'click',\n        'sp',\n        {\n          index,\n          products: [{ sku }],\n          kw,\n          m,\n        },\n        context,\n      );\n    }\n    return Promise.reject(new Error('product sku has not been provided'));\n  }\n  return Promise.reject(new Error('widget has not been provided'));\n};\n\nexport const trackFacetClick = async (\n  widget: string,\n  facetType: string,\n  facetValue: string,\n  valueIndex: number,\n  facetIndex: number,\n  context?: any,\n): Promise<any> => {\n  return EventTracker.trackWidgetEvent(\n    widget,\n    'click',\n    'sp',\n    {\n      w: 'facet',\n      type: facetType,\n      text: facetValue,\n      index: valueIndex,\n      tindex: facetIndex,\n    },\n    context,\n  );\n};\n","import * as EventTracker from './eventTracker';\n\n/**\n *\n * @param widget\n * @param sku\n * @param index\n * @param kw\n * @param m\n * @param text\n * @param type\n * @param w\n * @param context\n * @returns {Promise<*>}\n */\nexport const trackPreviewSearchClick = async (\n  widget: string,\n  sku: string,\n  index: number = 0,\n  kw: string = '',\n  m: string = '',\n  text: string = '',\n  type: string = '',\n  w?: string,\n  context?: any,\n): Promise<any> => {\n  if (widget) {\n    return EventTracker.trackWidgetEvent(\n      widget,\n      'click',\n      'sb',\n      {\n        index,\n        ...(sku !== '' ? { products: [{ sku }] } : []),\n        kw,\n        m,\n        type,\n        text,\n        ...(w ? { w } : []),\n      },\n      context,\n    );\n  }\n  return Promise.reject(new Error('widget has not been provided'));\n};\n\nexport const trackPreviewSuggestedCategoryClick = async (\n  rfkid: string,\n  index = 0,\n  keyword = '',\n  modifiedKeyword = '',\n  text = '',\n  context?: any,\n): Promise<any> => {\n  return await trackPreviewSearchClick(\n    rfkid,\n    '',\n    index,\n    keyword,\n    modifiedKeyword,\n    text,\n    'category',\n    'suggestion',\n    context,\n  );\n};\n\nexport const trackPreviewSearchSuggestionClick = async (\n  rfkid: string,\n  index = 0,\n  keyword = '',\n  modifiedKeyword = '',\n  text = '',\n  context?: any,\n): Promise<any> => {\n  return await trackPreviewSearchClick(\n    rfkid,\n    '',\n    index,\n    keyword,\n    modifiedKeyword,\n    text,\n    'keyphrase',\n    'suggestion',\n    context,\n  );\n};\n\nexport const trackPreviewSearchTopCategoriesClick = async (\n  rfkid: string,\n  index = 0,\n  keyword = '',\n  modifiedKeyword = '',\n  text = '',\n  context?: any,\n): Promise<any> => {\n  return trackPreviewSearchClick(\n    rfkid,\n    '',\n    index,\n    keyword,\n    modifiedKeyword,\n    text,\n    'trending_category',\n    'suggestion',\n    context,\n  );\n};\n","import * as EventTracker from './eventTracker';\n\n/**\n * @desc\n * @param widget: string\n * @param sku: string\n * @param index: number\n * @param arrow: string : Indicates if previous or next arrow was clicked.\n * @param context: any\n * @returns {Promise<void>}\n */\nexport const trackRecommendationClick = async (\n  widget: string,\n  sku: string,\n  index: number = 0,\n  arrow: string = '',\n  context?: any,\n): Promise<any> => {\n  if (widget) {\n    return EventTracker.trackWidgetEvent(\n      widget,\n      'click',\n      'rw',\n      {\n        index,\n        ...(sku ? { products: [{ sku }] } : []),\n        ...(arrow !== '' ? (arrow === 'prev' ? { prev: 1 } : { next: 1 }) : []),\n      },\n      context,\n    );\n  }\n  return Promise.reject(new Error('widget has not been provided'));\n};\n","/* istanbul ignore file */\n// import 'promise-polyfill/src/polyfill';\n\nimport { setConfig } from './config';\nimport { getUserId } from './api/siteInfo';\nimport RFKApiAdapter from './api/apiAdapter';\n/**\n * Action layer\n */\n/**\n * SDK request and event tracker\n */\nexport { default as DataProvider } from './api/dataProvider';\nexport { default as Request } from './api/rfkRequest';\nexport * as defaultRequests from './defaults';\nexport * as EventTracker from './events/eventTracker';\nexport * as DiscoverEvents from './events/discoverEvents';\nexport * as FunnelEvents from './events/funnelEvents';\nexport * as FullPageSearchEvents from './events/fullPageSearchEvents';\nexport * as PreviewSearchEvents from './events/previewSearchEvents';\nexport * as RecommendationEvents from './events/recommendationEvents';\nexport * from './setup';\n\nexport const clearCache = (): void => {\n  RFKApiAdapter.clearCache();\n};\n\nexport const setUserId = (userId: string): void => {\n  setConfig('userId', userId);\n};\n\nexport const getRfkUserId = (): string => {\n  const { user_id: userId, uuid } = getUserId();\n  return userId || uuid;\n};\n","import SearchRecResponse, { Appearance, DeviceType } from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport { StoreState } from '@rfk-sdk/core/lib/store';\nimport RFKActions from '@rfk-sdk/core/lib/actions';\nimport Widget from '@rfk-sdk/core/lib/controller/widget';\nimport { getDefaultRequestFor } from '@rfk-sdk/data/lib/defaults';\n\nexport interface ContentBlockStoreState extends StoreState {\n  htmlContent?: string | null;\n  cssContent?: string | null;\n  appearance?: Appearance;\n}\n\nexport default class ContentBlock extends Widget {\n  initializeRequest(): Widget {\n    this.request = getDefaultRequestFor(WidgetDataType.CONTENT_BLOCK);\n    return this;\n  }\n\n  handleInternalActions(actionType: string, payload: any): void {\n    switch (actionType) {\n      case RFKActions.LOAD:\n        this.fetch();\n        break;\n      case RFKActions.REQUEST:\n        this.setState({ loading: true });\n        break;\n      case RFKActions.REQUEST_SUCCESS:\n        {\n          const {\n            appearance,\n            appearance: {\n              templates: {\n                html: { devices: { [DeviceType.DESKTOP]: { content: htmlContent = null } = {} } = {} } = {},\n                css: { devices: { [DeviceType.DESKTOP]: { content: cssContent = null } = {} } = {} } = {},\n              } = {},\n            } = {},\n          } = payload.response as SearchRecResponse;\n          this.setState({\n            appearance,\n            cssContent,\n            htmlContent,\n            loading: false,\n            loaded: true,\n          } as ContentBlockStoreState);\n        }\n        break;\n    }\n  }\n}\n","import { actionBuilder } from '@rfk-sdk/core/lib/actions';\n\nconst action = actionBuilder('recommendation');\n\n// PRODUCT_CLICKED\nexport const PRODUCT_CLICKED = action('PRODUCT_CLICKED');\n\n// NAVIGATION_NEXT\nexport const NAVIGATION_NEXT = action('NAVIGATION_NEXT');\n\n// NAVIGATION_PREV\nexport const NAVIGATION_PREV = action('NAVIGATION_PREV');\n","import SearchRecResponse from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport { StoreState } from '@rfk-sdk/core/lib/store';\nimport RFKActions from '@rfk-sdk/core/lib/actions';\nimport Widget from '@rfk-sdk/core/lib/controller/widget';\nimport * as RecommendationEvents from '@rfk-sdk/data/lib/events/recommendationEvents';\nimport { getDefaultRequestFor } from '@rfk-sdk/data/lib/defaults';\nimport * as Actions from './actions';\n\nexport interface RecommendationStoreState extends StoreState {\n  products?: Array<any>;\n}\n\nexport default class Recommendation extends Widget {\n  initializeRequest(): Widget {\n    this.request = getDefaultRequestFor(WidgetDataType.RECOMMENDATION);\n    return this;\n  }\n\n  arrowClick({ direction }: { direction: string }): void {\n    RecommendationEvents.trackRecommendationClick(this.getId(), '', 0, direction, this.getContextJson()).then(() =>\n      console.debug('RecommendationController ::: trackRecommendationClick finished'),\n    );\n  }\n\n  productClick({ sku, index }: { sku: string; index: number }): void {\n    RecommendationEvents.trackRecommendationClick(this.getId(), sku, index, '', this.getContextJson()).then(() =>\n      console.debug('RecommendationController ::: trackRecommendationClick finished'),\n    );\n  }\n\n  handleInternalActions(actionType: string, payload: any): void {\n    switch (actionType) {\n      case Actions.NAVIGATION_NEXT:\n        this.arrowClick({ direction: 'next' });\n        break;\n      case Actions.NAVIGATION_PREV:\n        this.arrowClick({ direction: 'prev' });\n        break;\n      case Actions.PRODUCT_CLICKED:\n        this.productClick({ ...payload });\n        break;\n      case RFKActions.LOAD:\n        this.fetch();\n        break;\n      case RFKActions.REQUEST:\n        this.setState({ loading: true });\n        break;\n      case RFKActions.REQUEST_SUCCESS:\n        {\n          const { content: { product: { value = [] } = {} } = {} } = payload.response as SearchRecResponse;\n          this.setState({\n            products: value,\n            available: value.length > 0,\n            loading: false,\n            loaded: true,\n          } as RecommendationStoreState);\n        }\n        break;\n    }\n  }\n}\n","import { actionBuilder } from '@rfk-sdk/core/lib/actions';\n\nconst action = actionBuilder('recommendation');\n\n// PRODUCT_CLICKED\nexport const PRODUCT_CLICKED = action('PRODUCT_CLICKED');\n\n// FACET_CLICKED\nexport const FACET_CLICKED = action('FACET_CLICKED');\n\n// SORT_CHANGED\nexport const SORT_CHANGED = action('SORT_CHANGED');\n\n// PAGE_NUMBER_CHANGED\nexport const PAGE_NUMBER_CHANGED = action('PAGE_NUMBER_CHANGED');\n\n// RESULTS_PER_PAGE_CHANGED\nexport const RESULTS_PER_PAGE_CHANGED = action('RESULTS_PER_PAGE_CHANGED');\n\n// KEYPHRASE_CHANGED\nexport const KEYPHRASE_CHANGED = action('KEYPHRASE_CHANGED');\n\n// CLEAR_FILTERS\nexport const CLEAR_FILTERS = action('CLEAR_FILTERS');\n","import SearchRecResponse, { Facets as ResponseFacets, Facet } from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport RFKActions from '@rfk-sdk/core/lib/actions';\nimport Widget from '@rfk-sdk/core/lib/controller/widget';\nimport { getDefaultRequestFor } from '@rfk-sdk/data/lib/defaults';\nimport * as FullPageSearchEvents from '@rfk-sdk/data/lib/events/fullPageSearchEvents';\nimport { SortOrder } from '@rfk-sdk/data/lib/sort/item.model';\nimport * as Actions from './actions';\n\ninterface FormattedFacet extends Facet {\n  facetType: string;\n  values?: Array<Facet & { selected: boolean }>;\n}\n\nexport default class SearchResults extends Widget {\n  initializeRequest(): Widget {\n    this.request = getDefaultRequestFor(WidgetDataType.SEARCH_RESULTS);\n    if (this.request.getQueryKeyphrase()) {\n      this.setState({ keyphrase: this.request.getQueryKeyphrase() });\n    }\n    if (this.request.getPageNumber()) {\n      this.setState({ page: this.request.getPageNumber() });\n    }\n    if (this.request.getNumberProducts()) {\n      this.setState({ productsPerPage: this.request.getNumberProducts() });\n    }\n    return this;\n  }\n\n  resetControls(): void {\n    this.setPage(1);\n  }\n\n  setPage(n: number): void {\n    this.setState({ page: n });\n    this.request.setPageNumber(n);\n  }\n\n  setProductsPerPage(n: number): void {\n    this.setState({ productsPerPage: n });\n    this.request.setNumberProducts(n);\n  }\n\n  setKeyphrase(keyphrase: string): void {\n    this.resetRequest();\n    this.resetControls();\n    this.setState({ keyphrase, facets: this.formatFacetsFromResponse(this.getState().facet) });\n    this.request.setQueryKeyphrase(keyphrase);\n  }\n\n  setSort(sortType: string, sortDirection: SortOrder): void {\n    this.setState({ sortType, sortDirection });\n    this.request.resetSortCriteria().setSortCriteriaType(sortType).setSortCriteriaOrder(sortDirection);\n  }\n\n  facetClick({\n    facetType,\n    facetValue,\n    facetValueIndex,\n    valueIndex,\n    facetIndex,\n    checked,\n  }: {\n    facetType: string;\n    facetValue: string;\n    facetValueIndex: number;\n    valueIndex: number;\n    facetIndex: number;\n    checked: boolean;\n  }): void {\n    FullPageSearchEvents.trackFacetClick(\n      this.rfkId,\n      facetType,\n      facetValue,\n      valueIndex,\n      facetIndex,\n      this.getContextJson(),\n    ).then(() => console.debug('SearchController ::: trackFacetClick finished'));\n    const { facet: facets, facet: { [facetType]: { value = [] } = {} } = {} } = this.getState();\n    const { id = facetValue } = value[facetValueIndex] || {};\n    this.resetControls();\n    if (checked) {\n      this.request.addFilterValue(facetType, id);\n    } else {\n      this.request.removeFilterValue(facetType, id);\n    }\n    this.setState({\n      facets: this.formatFacetsFromResponse(facets),\n    });\n    this.fetch();\n  }\n\n  productClick({ sku, index }: { sku: string; index: number }): void {\n    const { keyphrase } = this.getState();\n    FullPageSearchEvents.trackFullPageSearchClick(this.rfkId, sku, index, keyphrase, '', this.getContextJson()).then(\n      () => console.debug('SearchController ::: trackFullPageSearchClick finished'),\n    );\n  }\n\n  pageNumberChange({ pageNumber }: { pageNumber: number }): void {\n    this.setPage(pageNumber);\n    this.fetch();\n  }\n\n  keyphraseChange({ keyphrase }: { keyphrase: string }): void {\n    this.setKeyphrase(keyphrase);\n    this.fetch();\n  }\n\n  productsPerPageChange({ numProducts }: { numProducts: number }): void {\n    this.setProductsPerPage(numProducts);\n    this.fetch();\n  }\n\n  sortChange({ sortType, sortDirection }: { sortType: string; sortDirection: SortOrder }): void {\n    this.setSort(sortType, sortDirection);\n    this.fetch();\n  }\n\n  clearFilters(): void {\n    this.setState({ facets: [] });\n    this.request.resetFilter();\n    this.fetch();\n  }\n\n  protected formatFacetsFromResponse(facets: ResponseFacets = {}): any {\n    const { filter: filters = {} } = this.request.toJson();\n    const formattedFacets: Array<FormattedFacet> = [];\n    const facetKeys: Array<string> = Object.keys(facets);\n    for (let i = 0; i < facetKeys.length; i++) {\n      const newFacet: FormattedFacet = { ...facets[facetKeys[i]], facetType: facetKeys[i] };\n      newFacet.values = newFacet.value.map((value: any, index) => {\n        const { [facetKeys[i]]: { value: values = [] } = {} } = filters;\n        return {\n          ...value,\n          index,\n          selected: values.includes(value.id) || values.includes(value.text),\n        };\n      });\n      formattedFacets.push(newFacet);\n    }\n    return formattedFacets;\n  }\n\n  handleInternalActions(actionType: string, payload: any): void {\n    switch (actionType) {\n      case RFKActions.LOAD:\n        this.fetch();\n        break;\n      case RFKActions.REQUEST:\n        this.setState({ loading: true });\n        break;\n      case RFKActions.REQUEST_SUCCESS:\n        {\n          const {\n            sort: { choices = this.getState().sortChoices } = {},\n            page_number: page,\n            total_item: totalItems,\n            total_page: totalPages,\n            n_item: numberOfItems,\n            facet,\n            content: { product: { value = [] } = {} } = {},\n          } = payload.response as SearchRecResponse;\n          this.setState({\n            page,\n            products: value,\n            loading: false,\n            loaded: true,\n            facets: this.formatFacetsFromResponse(facet),\n            facet,\n            sortChoices: choices,\n            totalPages,\n            totalItems,\n            numberOfItems,\n          });\n        }\n        break;\n      case Actions.FACET_CLICKED:\n        this.facetClick({ ...payload });\n        break;\n      case Actions.PRODUCT_CLICKED:\n        this.productClick({ ...payload });\n        break;\n      case Actions.SORT_CHANGED:\n        this.sortChange({ ...payload });\n        break;\n      case Actions.PAGE_NUMBER_CHANGED:\n        this.pageNumberChange({ ...payload });\n        break;\n      case Actions.RESULTS_PER_PAGE_CHANGED:\n        this.productsPerPageChange({ ...payload });\n        break;\n      case Actions.KEYPHRASE_CHANGED:\n        this.keyphraseChange({ ...payload });\n        break;\n      case Actions.CLEAR_FILTERS:\n        this.clearFilters();\n        break;\n    }\n  }\n}\n","import { actionBuilder } from '@rfk-sdk/core/lib/actions';\n\nconst action = actionBuilder('discover');\n\nexport type CommonPayload = {\n  sku?: string;\n  productGroup?: string;\n};\n// OPEN\nexport type OpenPayload = CommonPayload;\nexport const OPENED = action('OPENED');\nexport const CLOSED = action('CLOSED');\n\n// PRODUCT_CHANGE\nexport type ProductChangedPayload = CommonPayload & {\n  sku: string;\n  index: number;\n};\nexport const PRODUCT_CHANGED = action('PRODUCT_CHANGED');\n\n// CHOICE_CHANGE\nexport type ChoiceChangedPayload = CommonPayload & {\n  choiceId: string;\n  text?: string;\n  textId?: string;\n  index: number;\n};\nexport const CHOICE_CHANGED = action('CHOICE_CHANGED');\n\n// REFRESH\nexport const REFRESH = action('REFRESH');\n\n// NAVIGATION_NEXT\nexport const NAVIGATION_NEXT = action('NAVIGATION_NEXT');\n\n// NAVIGATION_PREV\nexport const NAVIGATION_PREV = action('NAVIGATION_PREV');\n","import RFKActions from '@rfk-sdk/core/lib/actions';\nimport Widget from '@rfk-sdk/core/lib/controller/widget';\nimport { getDefaultRequestFor } from '@rfk-sdk/data/lib/defaults';\nimport * as DiscoverEvents from '@rfk-sdk/data/lib/events/discoverEvents';\nimport SearchRecResponse from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport * as Actions from './actions';\nimport { ChoiceChangedPayload, CommonPayload, OpenPayload, ProductChangedPayload } from './actions';\n\nexport type Tab = {\n  label?: string;\n  choiceId?: string;\n  selected?: boolean;\n  text?: string;\n};\n\nclass DiscoverWidget extends Widget {\n  initializeRequest(): Widget {\n    this.request = getDefaultRequestFor(WidgetDataType.DISCOVER);\n    return this;\n  }\n\n  setMainProduct({ sku, productGroup }: CommonPayload): void {\n    this.request.resetContextPageProductGroups();\n    this.request.resetContextPageSkus();\n    if (productGroup) {\n      this.request.setContextPageProductGroups([productGroup]);\n    } else if (sku) {\n      this.request.setContextPageSkus([sku]);\n    }\n  }\n\n  mainProductChange({ sku, productGroup }: CommonPayload): void {\n    this.store.reset();\n    this.setState({ open: true });\n    this.setMainProduct({ sku, productGroup });\n  }\n\n  tabChange({ choiceId, sku, productGroup }: ChoiceChangedPayload): void {\n    this.setMainProduct({ sku, productGroup });\n    if (choiceId) {\n      this.request.setFeaturesDiscoverChoiceId(choiceId);\n    }\n    this.fetch();\n  }\n\n  handleProductChange(payload: ProductChangedPayload): void {\n    DiscoverEvents.trackProductChange(this.rfkId, payload.sku, payload.index, this.getContextJson());\n    this.mainProductChange(payload);\n    this.fetch();\n  }\n\n  handleChoiceChange(payload: ChoiceChangedPayload): void {\n    const { tabs = [] } = this.getState();\n    const index = tabs.findIndex(({ choiceId }: { choiceId: string }) => choiceId === payload.choiceId);\n    const { text, textId } = tabs[index] || {};\n    DiscoverEvents.trackChoiceChange(this.rfkId, payload.choiceId, textId, text, index, this.getContextJson());\n    this.tabChange(payload);\n  }\n\n  handleInternalActions(actionType: string, payload: any): void {\n    switch (actionType) {\n      case Actions.OPENED:\n        this.mainProductChange(payload as OpenPayload);\n        // @TODO: Remove this: API is not returning context_values.product when passed in initial request\n        this.fetch({ force: true });\n        this.setState({\n          open: true,\n        });\n        break;\n      case Actions.CLOSED:\n        this.store.reset();\n        this.resetRequest();\n        this.setState({\n          open: false,\n        });\n        break;\n      case Actions.PRODUCT_CHANGED:\n        this.handleProductChange(payload);\n        break;\n      case Actions.CHOICE_CHANGED:\n        this.handleChoiceChange(payload);\n        break;\n      case Actions.NAVIGATION_NEXT:\n        DiscoverEvents.trackNavigationChange(this.rfkId, 'next', 'Next', this.getContextJson());\n        break;\n      case Actions.NAVIGATION_PREV:\n        DiscoverEvents.trackNavigationChange(this.rfkId, 'prev', 'Prev', this.getContextJson());\n        break;\n      case Actions.REFRESH:\n        this.fetch({ force: true });\n        break;\n      case RFKActions.RESET_WIDGET:\n        DiscoverEvents.trackClose(this.rfkId, 'Close', this.getContextJson());\n        break;\n      case RFKActions.REQUEST:\n        this.setState({ loading: true, error: null });\n        break;\n      case RFKActions.REQUEST_FAIL:\n        this.setState({\n          error: payload.response,\n          loading: false,\n          loaded: true,\n        });\n        break;\n      case RFKActions.REQUEST_SUCCESS:\n        {\n          const {\n            content: { product: { value = [] } = {} } = {},\n            context_values: { product: { value: mainProduct = [] } = {} } = {},\n            features: { discover: { choices = [] } = {} } = {},\n          } = payload.response as SearchRecResponse;\n          const tabs: Array<Tab> = choices.map(\n            ({ values: [{ choice_id: choiceId, selected, text, text_id: textId }] = [] }) => ({\n              label: text,\n              choiceId,\n              selected,\n              text,\n              textId,\n            }),\n          );\n          if (tabs[0]?.choiceId) {\n            this.request.setFeaturesDiscoverChoiceId(tabs[0]?.choiceId);\n          }\n          const selectedTab = tabs.find(({ selected }) => selected);\n          const currentMainProduct: any = mainProduct.length ? mainProduct[0] : {};\n          this.setState({\n            products: value,\n            loading: false,\n            loaded: true,\n            mainProduct: currentMainProduct,\n            selectedTab: selectedTab?.choiceId,\n            tabs,\n          });\n          this.setMainProduct({ sku: currentMainProduct.sku });\n        }\n        break;\n    }\n  }\n}\n\nexport default DiscoverWidget;\n","import { actionBuilder } from '@rfk-sdk/core/lib/actions';\n\nconst action = actionBuilder('previewSearch');\n\nexport const SUGGESTION_CHANGED = action('SUGGESTION_CHANGED');\n\nexport const TRENDING_CATEGORY_CHANGED = action('TRENDING_CATEGORY_CHANGED');\n\nexport const CATEGORY_CHANGED = action('CATEGORY_CHANGED');\n\nexport const KEYPHRASE_CHANGED = action('KEYPHRASE_CHANGED');\n","import { PreviewSearchResponse } from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport RFKActions from '@rfk-sdk/core/lib/actions';\nimport Widget from '@rfk-sdk/core/lib/controller/widget';\nimport * as PreviewSearchEvents from '@rfk-sdk/data/lib/events/previewSearchEvents';\nimport { getDefaultRequestFor } from '@rfk-sdk/data/lib/defaults';\nimport * as Actions from './actions';\n\nexport default class PreviewSearch extends Widget {\n\n  initializeRequest(): Widget {\n    this.request = getDefaultRequestFor(WidgetDataType.PREVIEW_SEARCH);\n    return this;\n  }\n\n\n  setKeyphrase(keyphrase: string): void {\n    this.setState({\n      keyphrase,\n      selectedKeyword: keyphrase,\n    });\n  }\n\n  setCategory(category: string): void {\n    this.setState({\n      category,\n      selectedKeyword: category,\n    });\n  }\n\n  setSuggestion(suggestion: string): void {\n    this.setState({\n      suggestion,\n      selectedKeyword: suggestion,\n    });\n  }\n\n  setTrendingCategory(trendingCategory: string): void {\n    this.setState({\n      trendingCategory,\n      selectedKeyword: trendingCategory,\n    });\n  }\n\n  productClick({ sku, index }: { sku: string; index: number }): void {\n    const { context, keyphrase } = this.getState();\n    PreviewSearchEvents.trackPreviewSearchClick(this.rfkId, sku, index, keyphrase, '', context).then(() =>\n      console.debug('PreviewSearchController ::: trackFullPageSearchClick finished'),\n    );\n  }\n\n  keyphraseChange({ keyphrase }: { keyphrase: string }): void {\n    this.setKeyphrase(keyphrase);\n    this.setState({ lockSuggestions: false, lockCategories: false });\n    this.request.resetFilterValues('category_names');\n    this.request.setQueryKeyphrase(keyphrase);\n    this.fetch();\n  }\n\n  categoryChange({ category }: { category: string }): void {\n    this.setCategory(category);\n    this.setState({ lockSuggestions: true, lockCategories: true });\n    this.request.setFilterValues('category_names', [category]);\n    this.fetch();\n  }\n\n  suggestionChange({ suggestion }: { suggestion: string }): void {\n    this.setSuggestion(suggestion);\n    this.setState({ lockSuggestions: true, lockCategories: true });\n    this.request.resetFilterValues('category_names');\n    this.request.setQueryKeyphrase(suggestion);\n    this.fetch();\n  }\n\n  trendingCategoryChange({ trendingCategory }: {trendingCategory: string}): void {\n    this.setState({ lockSuggestions: false, lockCategories: false });\n    this.setTrendingCategory(trendingCategory);\n  }\n\n  handleInternalActions(actionType: string, payload: any): void {\n    switch (actionType) {\n      case RFKActions.REQUEST:\n        this.setState({ loading: true });\n        console.debug('PreviewSearchController ::: REQUEST');\n        break;\n      case RFKActions.REQUEST_SUCCESS:\n        {\n          const { content: {\n            product: { value = [] } = {} } = {},\n            suggestion: { category: categories = [], trending_category: trendingCategories = [], keyphrase: suggestions = [] }\n          } = payload.response as PreviewSearchResponse;\n          const {suggestions: oldSuggestions, lockSuggestions, categories: oldCategories, lockCategories } = this.getState();\n          this.setState({\n            products: value,\n            loading: false,\n            loaded: true,\n            categories: lockCategories ? oldCategories : categories,\n            trendingCategories,\n            suggestions: lockSuggestions ? oldSuggestions : suggestions,\n          });\n        }\n        break;\n      case RFKActions.PRODUCT_CLICK:\n        this.productClick({ ...payload });\n        break;\n      case Actions.KEYPHRASE_CHANGED:\n        this.keyphraseChange({ ...payload });\n        break;\n      case Actions.CATEGORY_CHANGED:\n        console.debug('PreviewSearchController ::: CATEGORY_CHANGED');\n        this.categoryChange(payload);\n        break;\n      case Actions.TRENDING_CATEGORY_CHANGED:\n        console.debug('PreviewSearchController ::: TRENDING_CATEGORY_HOVER');\n        this.trendingCategoryChange(payload);\n        break;\n      case Actions.SUGGESTION_CHANGED:\n        console.debug('PreviewSearchController ::: SUGGESTION_HOVER');\n        this.suggestionChange(payload);\n        break;\n\n    }\n  }\n}\n","import { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport WidgetController from '@rfk-sdk/core/lib/controller/widget';\nimport RecommendationWidgetController from './recommendation';\nimport SearchResultsWidgetController from './searchResults';\nimport DiscoverWidgetController from './discover';\nimport PreviewSearchWidgetController from './search/previewSearch';\nimport ContentBlockWidgetController from './contentBlock';\n\ntype WidgetControllerMapping = {\n  [key in WidgetDataType]?: typeof WidgetController;\n};\n\nexport const CONTROLLERS_MAPPING: WidgetControllerMapping = {\n  [WidgetDataType.CONTENT_BLOCK]: ContentBlockWidgetController,\n  [WidgetDataType.RECOMMENDATION]: RecommendationWidgetController,\n  [WidgetDataType.SEARCH_RESULTS]: SearchResultsWidgetController,\n  [WidgetDataType.DISCOVER]: DiscoverWidgetController,\n  [WidgetDataType.PREVIEW_SEARCH]: PreviewSearchWidgetController,\n};\n\nexport const getByType = (type: WidgetDataType): typeof WidgetController | null => {\n  const Controller = CONTROLLERS_MAPPING[type];\n  if (Controller) {\n    return Controller;\n  }\n  console.warn(`Unknown type of widget \"${type}\"`);\n  return null;\n};\n","import { WidgetsConfig } from '@rfk-sdk/core';\nimport DataProviderProcessor from '@rfk-sdk/data/lib/api/dataProvider/processor';\nimport { Result } from '@rfk-sdk/models/lib/searchRecApi/response';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\n\nexport default class WidgetsConfigDataProviderStrategy extends DataProviderProcessor {\n  protected getWidgetType(rfkId: string, item: Result, request: any): WidgetDataType | undefined {\n    if (this.isAllWidget(rfkId, request)) {\n      const type = WidgetsConfig.getType(rfkId);\n      if (type) {\n        return type;\n      }\n    }\n    return super.getWidgetType(rfkId, item, request);\n  }\n\n  protected cacheWidgetResponse(rfkId: string, item: Result, request: any) {\n    const { type, variation_id: variationId } = item.widget;\n    WidgetsConfig.setMetadata(rfkId, { rfkId, type, variationId });\n\n    super.cacheWidgetResponse(rfkId, item, request);\n  }\n}\n","/* eslint-disable camelcase */\nimport { RFKID } from '@rfk-sdk/models/lib/widget';\nimport { html, preact } from '@rfk-sdk/ui';\n\nconst { useRef, useWidgetVisibility, useEffect, useLayoutEffect, useWidget } = preact;\n\ntype ContentBlockWidgetProps = {\n  htmlContent: string;\n  cssContent: string;\n  appearance?: { css_names?: Array<string> };\n};\n\nfunction addStyle(rfkId: RFKID | undefined, node: HTMLElement, css: string) {\n  let styleNode = document.querySelector(`[data-rfk-id-style=${rfkId}]`);\n  if (!styleNode) {\n    styleNode = document.createElement('style');\n    styleNode.setAttribute('type', 'text/css');\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    styleNode.dataset.rfkIdStyle = rfkId;\n    node.parentNode?.appendChild(styleNode);\n  }\n  styleNode.innerHTML = css;\n}\n\nconst ContentBlockWidget: ({ cssContent, htmlContent, appearance }: ContentBlockWidgetProps) => any = ({\n  htmlContent,\n  cssContent,\n  appearance: { css_names: cssNames = [] } = {},\n}: ContentBlockWidgetProps) => {\n  const { rfkId } = useWidget();\n  const { ref } = useWidgetVisibility();\n  const divRef: { current: any } = useRef(null);\n\n  useEffect(() => {\n    if (divRef.current && !!htmlContent) {\n      ref(divRef.current.parentNode);\n    }\n  }, [divRef.current, !!htmlContent])\n  // sets parent class names\n  useLayoutEffect(() => {\n    if (divRef.current?.parentNode && cssNames.length > 0) {\n      divRef.current.parentNode.classList.add(...cssNames);\n    }\n  }, [divRef.current, cssNames.join('*')]);\n\n  // sets widget styles\n  useLayoutEffect(() => {\n    if (divRef.current && cssContent) {\n      addStyle(rfkId, divRef.current, cssContent);\n    }\n  }, [divRef.current, cssContent]);\n\n  // sets widget content\n  useLayoutEffect(() => {\n    if (divRef.current && htmlContent) {\n      divRef.current.innerHTML = htmlContent;\n    }\n  }, [divRef.current, htmlContent]);\n  return html`<div ref=${divRef}></div>`;\n};\n\nexport default ContentBlockWidget;\n","/* eslint-disable camelcase */\nimport { preact } from '@rfk-sdk/ui';\n\nconst { useLayoutEffect } = preact;\n\ntype ContentBlockSEOWidgetProps = {\n  htmlContent: string;\n};\n\nconst ContentBlockSEOWidget: ({ htmlContent }: ContentBlockSEOWidgetProps) => any = ({\n  htmlContent,\n}: ContentBlockSEOWidgetProps) => {\n  // sets widget content\n  useLayoutEffect(() => {\n    if (htmlContent) {\n      document.head.insertAdjacentHTML('beforeend', htmlContent);\n    }\n  }, [htmlContent]);\n  return null;\n};\n\nexport default ContentBlockSEOWidget;\n","import { FunnelEvents, PageController, WidgetsConfig } from '@rfk-sdk/core';\nimport RFKActions from '@rfk-sdk/core/lib/actions';\nimport { Action, ActionPayload, DispatcherListener } from '@rfk-sdk/core/lib/dispatcher';\nimport { SDKSetupOptions } from '@rfk-sdk/core/lib/types';\nimport { WidgetDataType } from '@rfk-sdk/models/lib/widget';\nimport { ContentBlock } from '@rfk-sdk/widgets';\nimport { getUserId } from '@rfk-sdk/data/lib/api/siteInfo';\nimport { setup as setupDataLayer, SetupOptions as DataSetupOptions } from '@rfk-sdk/data/lib/setup';\nimport PreactContainerRendererFactory from '@rfk-sdk/ui/lib/integrations/preact/containerRendererFactory';\nimport PreactWidgetFactory from '@rfk-sdk/ui/lib/integrations/preact/widgetFactory';\nimport PreactWidgetRenderer from '@rfk-sdk/ui/lib/integrations/preact/widgetRenderer';\nimport WidgetsConfigDataProviderProcessor from './dataProviderProcessor';\nimport ContentBlockWidget from './widgets/contentBlock';\nimport ContentBlockSEOWidget from './widgets/contentBlock/seo';\n\nconst widgetRenderer = new PreactWidgetRenderer(new PreactWidgetFactory());\nconst containerRendererFactory = new PreactContainerRendererFactory(widgetRenderer);\nconst ContentBlockConfig = {\n  Controller: ContentBlock,\n  Component: ContentBlockWidget,\n  options: {\n    visibility: { manual: true },\n  },\n};\n\nclass WidgetsRenderer implements DispatcherListener {\n  protected containerRendered: boolean = false;\n\n  constructor() {\n    PageController.getDispatcher().subscribe(this);\n    WidgetsConfig.setTypes({\n      [WidgetDataType.BANNER]: ContentBlockConfig,\n      [WidgetDataType.HTML_BLOCK]: ContentBlockConfig,\n      [WidgetDataType.SEO]: {\n        Controller: ContentBlock,\n        Component: ContentBlockSEOWidget,\n        options: {\n          visibility: { manual: true },\n        },\n      },\n    });\n  }\n\n  getContainerNode(): HTMLElement | null {\n    return document.querySelector('[data-rfkid=\"rfkid_container\"]');\n  }\n\n  isContainer() {\n    return !!this.getContainerNode();\n  }\n\n  handleAction(action: Action, payload: ActionPayload): void {\n    switch (action) {\n      case RFKActions.PAGE_CONTAINER_READY: {\n        if (this.isContainer() && !this.containerRendered) {\n          const container = this.getContainerNode();\n          if (container) {\n            containerRendererFactory.render(payload.widgets, container);\n            this.containerRendered = true;\n          }\n        }\n        break;\n      }\n      case RFKActions.WIDGET_READY: {\n        const { nodeSelector = `[data-rfkid=${payload.rfkId}]` } = WidgetsConfig.get(payload.rfkId || '') || {};\n        const node: HTMLElement | null = document.querySelector(nodeSelector);\n        if (payload.rfkId && node) {\n          widgetRenderer.render(payload.rfkId, node);\n        }\n        break;\n      }\n    }\n  }\n}\n\nconst init = (options?: SDKSetupOptions): void => {\n  const { includeWidgets, widgets = [], uri = window.location.pathname, ...setupOptions } = options || {};\n  setupDataLayer(setupOptions as DataSetupOptions, { processor: new WidgetsConfigDataProviderProcessor() });\n\n  const pageRenderer = new WidgetsRenderer();\n  PageController.getContext().setPageUri(uri);\n  PageController.getContext().setUserUuid(getUserId().uuid);\n  FunnelEvents.trackPageView(PageController.getContext().toJson());\n\n  // triggers api request to get widgets data for current page uri and context and passed widgets\n  PageController.getDispatcher().dispatch(RFKActions.INITIALIZE, {\n    widgets,\n    includeWidgets,\n    isContainer: pageRenderer.isContainer(),\n    options,\n  });\n};\n\nexport { init };\n","import { setConfig } from './config';\nimport RfkStorage from './utils/storage';\nimport Processor from './api/dataProvider/processor';\nimport DataProvider from './api/dataProvider';\n\nexport type SetupOptions = {\n  env?: string;\n  customerKey?: string;\n  apiKey?: string;\n  serviceHost?: string;\n  useToken?: boolean;\n  userId?: string;\n  useStorage?: boolean;\n  debug?: boolean;\n};\n\nexport const setup = (\n  { env, customerKey, apiKey, serviceHost, useToken, userId, debug, useStorage = false }: SetupOptions,\n  { processor }: { processor?: Processor } = {},\n): void => {\n  setConfig('env', env);\n  setConfig('customerKey', customerKey);\n  setConfig('apiKey', apiKey);\n  setConfig('serviceHost', serviceHost);\n  setConfig('useToken', useToken);\n  setConfig('userId', userId);\n  setConfig('debug', debug);\n\n  RfkStorage.init(useStorage);\n\n  if (processor) {\n    DataProvider.setProcessor(processor);\n  }\n};\n"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_typeof","obj","Symbol","iterator","constructor","prototype","_possibleConstructorReturn","self","call","TypeError","ReferenceError","_assertThisInitialized","module","exports","value","createClass","Constructor","protoProps","staticProps","inherits","subClass","superClass","create","createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","Super","result","NewTarget","this","arguments","apply","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","get","prop","hasOwnProperty","r","toStringTag","u","t","f","c","s","a","n","l","h","parentNode","removeChild","v","children","defaultProps","y","type","ref","__k","__","__b","__e","__d","__c","__h","__v","vnode","current","_","context","k","indexOf","b","base","m","push","g","__r","debounceRendering","sort","some","__P","j","__n","ownerSVGElement","z","w","A","Array","isArray","x","P","N","M","appendChild","nextSibling","insertBefore","$","setProperty","test","H","style","cssText","replace","toLowerCase","slice","addEventListener","T","I","removeEventListener","setAttribute","removeAttribute","event","contextType","__E","render","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","C","checked","unmount","componentWillUnmount","S","firstChild","q","B","D","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","window","__PREACT_DEVTOOLS__","attachPreact","Fragment","Component","displayName","__o","reduce","__source","fileName","lineNumber","console","warn","WeakMap","toString","JSON","stringify","pop","useEffect","useLayoutEffect","lazyPropTypes","Error","error","propTypes","has","set","__f","keys","message","nodeName","__self","join","actionBuilder","action","LOAD","REQUEST","REQUEST_SUCCESS","REQUEST_FAIL","WIDGET_APPEAR","PAGE_CONTAINER_READY","WIDGET_READY","INITIALIZE","INITIALIZED","RESET_WIDGET","PAGE_CONTEXT_CHANGED","ADD_TO_CART","ORDER_CONFIRM","USER_LOGIN","ADD_TO_WISHLIST","CART_STATUS","PRODUCT_CLICK","undefinedCheck","variable","THREE_YEARS","TIME","Date","now","DOMAIN_ROOT","location","hostname","split","reverse","SDKConfig","stagingApiDomain","uatApiDomain","prodApiDomain","apiKey","customerKey","tokenPath","legacySearchPath","legacyEventPath","env","serviceHost","searchPath","eventPath","useToken","userId","debug","setConfig","getConfigProperty","getServiceConfig","apiDomain","CookieHandler","isBase64","str","decodeCookieValue","tmpValue","decodeURIComponent","pass","AZ","az","n09","String","fromCharCode","substring","charAt","decodeBase64","substr","getCookieValue","content","cookieName","getCookieFromBrowser","rawCookies","cookie","newValue","cachedCookies","setCookieInBrowser","milliseconds","base64","exdate","input","chr","enc","i2","output","string","utftext","charCodeAt","encode8","isNaN","encodeBase64","encodeURIComponent","setMilliseconds","getMilliseconds","toUTCString","removeCookieFromBrowser","removeCachedCookie","expire","encode","cookieValue","remove","getCookiesFromBrowser","cookies","response","match","getAllCookies","clearCache","clearAll","LocalStorageHandler","localStorage","filter","removeItem","expiry","tm","getTime","tx","setItem","ctime","storageData","parse","getItem","storageStrategy","useStorage","storageValue","parsedValue","jsonParse","SITE_INFO","getDomainKey","keyParts","getUTMA","isNewSession","utma","RfkStorage","utmaAttributes","generateNewUTMA","uid","digit2string","Math","random","getDomainUid","getUserId","customerUserId","user_id","domainHashCkey","domainHash","domainRoot","utmaParts","elem","usetLastDigit","previousSessionStartTime","parseInt","currentSessionStartTime","visitCount","pageViewCount","visitPageCount","getSiteInfo","uuid","getTokenHeaders","myHeaders","Headers","append","getAPIHeaders","accessToken","currentAccessToken","accessTokenRequestedAt","currentAccessTokenExpiry","checkToken","async","fetch","method","body","scope","headers","json","accessTokenExpiry","WINDOW","cache","RFK_CACHE","hashKey","len","hash","sortObjectKeys","acc","map","createKey","all","clear","getName","Cache","DEFAULT_FETCH_OPTIONS","RFKApiAdapter","params","token","keepalive","fetchOptions","url","options","cacheKey","callApiWithoutCache","callApiWithCache","track","trackEvent","validateProducts","products","find","sku","quantity","price","validateUser","email","id","trackAddToCart","page","priceOriginal","price_original","reject","trackStatusCart","trackUserLogin","user","eid","emailId","trackPDPView","fitment","trackOrderConfirm","checkout","orderId","total","subtotal","validateCheckout","order_id","trackPageView","isObject","item","mergeDeep","source","mutate","assign","typesConfigMapping","configMapping","setTypes","mapping","getType","rfkId","config","widgetConfig","TypeComponent","Controller","TypeController","typeOptions","getForType","getOrCreate","getMetadata","metadata","setMetadata","setType","updateMetadata","update","getController","WidgetDataType","DeviceType","SectionType","AppType","WidgetUsedIn","SortChoiceOrder","DEVICES","DESKTOP","MOBILE","TABLET","SECTIONS","HTML","CSS","JS","getAtPath","defaultValue","loc","path","removeValue","setAtPath","res","Number","isInteger","resValue","omit","newObj","objKeys","buildCamelCaseMethod","prefix","suffix","camelCase","parts","part","toUpperCase","toCamelCase","RequestData","propKey","getPropExportKey","removeKey","parent","keyPath","onChange","resetValue","initialValue","getMapExportKey","exportKey","getValue","setValue","keyToRemove","updateValue","addValue","concat","transformJson","toJson","listeners","listener","addListeners","observers","observer","addListener","getArgs","args","parentType","numberOfArgs","numberOfOptionalArgs","list","fill","index","build","properties","methods","propsList","methodKey","accessProp","setter","getter","model","propConfig","isParentMap","exportKeyPath","propExportKey","getterName","setterName","getPropInfo","includes","singularMethodKey","createModel","ModelClass","superInstance","thisInstance","templates","sections","devices","keep_variables","keep_original_css","variables","product","article","store","geo","browser","campaign","category","hard_filter","channel","discover","choice_id","required","order","min_count","max","SortItemModel","keyphrase","choices","rfkid","file","buildInterface","group_id","groups","gender","new_user","skus","product_groups","category_uri","uri","ccid","category_id","locale_country","locale_language","locale_currency","referrer","title","container_id","all_category_ids","utm_campaign","utm_source","ip","country","city","zip","ids","items","user_agent","device","app_type","RfkRequestModel","number_products","page_number","appearance","facets","facets_all","facets_max","facets_total","facets_sort","filters","FiltersModel","widget","WidgetModel","batch","features","ContentModel","query","QueryModel","context_values","ContextModel","suggestion","recent","trending_category","RfkRequest","getRfkId","setRfkId","addBatchItem","getWidgetInfo","widgetId","getBatchItems","addWidgetBatchItem","addAllWidgetsBatchItem","addAllAppearanceTemplatesDevices","addAppearanceTemplatesDevice","addAllAppearanceTemplatesSections","section","addAppearanceTemplatesSection","addAllAppearanceVariablesSections","addAppearanceVariablesSection","request","setAppearanceTemplates","setAppearanceVariables","DEFAULTS","RECOMMENDATION","setContentProduct","DISCOVER","setContextValuesProduct","SEARCH_RESULTS","setFacetsAll","setPageNumber","setSortChoices","PREVIEW_SEARCH","setSuggestionKeyphrase","setSuggestionCategory","setSuggestionTrendingCategory","CONTENT_BLOCK","ContentBlockDefaultRequest","HTML_BLOCK","SEO","BANNER","getDefaultRequestFor","setDefaultRequestFor","defaultRequest","widgets","includeContainerWidgets","super","CONTENT_BLOCK_DEFAULT_REQUEST","RECOMMENDATION_DEFAULT_REQUEST","DISCOVER_DEFAULT_REQUEST","SEARCH_RESULTS_DEFAULT_REQUEST","WidgetsConfig","allParams","Processor","getCache","setCache","buildCachedResponse","cached","getCachedResponse","requestPayload","force","validateResponse","err","getWidgetType","getWidgetResponseForType","getAllWidgetResponse","getWidgetResponse","getWidgetResponseCacheKey","getRequestWidgetFromBatch","getAllWidgetResponseCacheKey","cacheWidgetResponse","isAllWidget","cacheResponse","processResponse","PROCESSOR","callApi","validationError","setProcessor","strategy","getProcessor","subscribers","Dispatcher","payload","subscriber","handleAction","pageContext","PageController","dispatch","RFKActions","DataProvider","Model","Context","PageContext","setContext","subscribe","func","wait","immediate","timeout","rest","clearTimeout","debounce","getContext","register","getDispatcher","processInitializeResponse","inPage","common","customWidgets","used_in","usedIn","PAGE","canPreRender","preRender","setupWidgets","Actions","isContainer","includeWidgets","InitRfkRequest","pageContainerDisabled","DataAdapter","widgetsInPage","commonWidgets","initialized","initialize","FunnelEvents","observable","__H","F","cancelAnimationFrame","requestAnimationFrame","E","isReactComponent","isPureReactComponent","R","for","$$typeof","count","only","toArray","__u","U","default","__R","__O","fallback","delete","revealOrder","size","W","Map","V","textContent","Z","Y","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","G","class","J","multiple","selected","className","K","nn","tn","en","rn","un","on","fn","_extends","ObserverMap","RootIds","rootId","observe","element","callback","_createObserver","root","optionsToId","instance","thresholds","elements","IntersectionObserver","entries","entry","_elements$get","inView","isIntersecting","threshold","intersectionRatio","trackVisibility","isVisible","createObserver","callbacks","unobserve","disconnect","isPlainChildren","InView","_React$Component","_this","node","_unobserveCb","handleNode","triggerOnce","skip","initialInView","observeNode","handleChange","_proto","prevProps","rootMargin","delay","_this$props","_this$state","_this$props2","as","tag","excluded","sourceKeys","_objectWithoutPropertiesLoose","createContext","useContext","WidgetContext","dispatchWidgetAppearAction","time","appearOptions","visibility","useWidget","visibilityOptions","_temp","_ref","_React$useState","setRef","useInView","manual","trigger","useCallback","html","htm","mapProps","customMapProps","controller","setupWidget","WidgetComp","Wrapper","onUpdate","onInView","withWidgetAppearOptions","getStore","getState","WrappedComponent","useWidgetVisibility","targetNode","findDOMNode","available","withWidgetAppear","mapped","unsubscribe","getWidgetComponentConfig","widgetComponentConfig","setup","doSetup","WidgetFactory","defaultConfig","widgetFactory","to","widgetComponent","doRender","WidgetRenderer","dataset","startsWith","mem","newKey","newKeyFormatted","widgetRenderer","rfkIds","child","renderer","ContainerRenderer","trackWidgetEvent","feature","additionalValues","trackAppearEvent","trackWidgetClickEvent","subType","click_type","click_sub_type","Widget","out","reset","overwrite","newState","currentListeners","createStore","onHandleActions","actionType","resetRequest","changes","getContextJson","onPageContextChange","onWidgetAppear","EventTracker","initializeRequest","handleInternalActions","setOnHandleActions","getId","trackChoiceChange","textId","text","click_text_id","click_text","trackProductChange","trackClickToProduct","trackSwatchChange","trackNavigationChange","orientationId","orientationText","trackClose","clickText","trackFullPageSearchClick","kw","trackFacetClick","facetType","facetValue","valueIndex","facetIndex","tindex","trackPreviewSearchClick","trackPreviewSuggestedCategoryClick","keyword","modifiedKeyword","trackPreviewSearchSuggestionClick","trackPreviewSearchTopCategoriesClick","trackRecommendationClick","arrow","prev","next","setUserId","getRfkUserId","ContentBlock","loading","htmlContent","css","cssContent","loaded","PRODUCT_CLICKED","NAVIGATION_NEXT","NAVIGATION_PREV","Recommendation","arrowClick","direction","RecommendationEvents","productClick","FACET_CLICKED","SORT_CHANGED","PAGE_NUMBER_CHANGED","RESULTS_PER_PAGE_CHANGED","KEYPHRASE_CHANGED","CLEAR_FILTERS","SearchResults","getQueryKeyphrase","getPageNumber","getNumberProducts","productsPerPage","resetControls","setPage","setProductsPerPage","setNumberProducts","setKeyphrase","formatFacetsFromResponse","facet","setQueryKeyphrase","setSort","sortType","sortDirection","resetSortCriteria","setSortCriteriaType","setSortCriteriaOrder","facetClick","facetValueIndex","FullPageSearchEvents","addFilterValue","removeFilterValue","pageNumberChange","pageNumber","keyphraseChange","productsPerPageChange","numProducts","sortChange","clearFilters","resetFilter","formattedFacets","facetKeys","newFacet","values","sortChoices","total_item","totalItems","total_page","totalPages","n_item","numberOfItems","OPENED","CLOSED","PRODUCT_CHANGED","CHOICE_CHANGED","REFRESH","setMainProduct","productGroup","resetContextPageProductGroups","resetContextPageSkus","setContextPageProductGroups","setContextPageSkus","mainProductChange","open","tabChange","choiceId","setFeaturesDiscoverChoiceId","handleProductChange","DiscoverEvents","handleChoiceChange","tabs","findIndex","mainProduct","text_id","label","selectedTab","currentMainProduct","SUGGESTION_CHANGED","TRENDING_CATEGORY_CHANGED","CATEGORY_CHANGED","PreviewSearch","selectedKeyword","setCategory","setSuggestion","setTrendingCategory","trendingCategory","PreviewSearchEvents","lockSuggestions","lockCategories","resetFilterValues","categoryChange","setFilterValues","suggestionChange","trendingCategoryChange","categories","trendingCategories","suggestions","oldSuggestions","oldCategories","CONTROLLERS_MAPPING","ContentBlockWidgetController","RecommendationWidgetController","SearchResultsWidgetController","DiscoverWidgetController","PreviewSearchWidgetController","getByType","WidgetsConfigDataProviderStrategy","DataProviderProcessor","variation_id","variationId","useRef","preact","head","insertAdjacentHTML","PreactWidgetRenderer","PreactWidgetFactory","containerRendererFactory","PreactContainerRendererFactory","ContentBlockConfig","css_names","cssNames","divRef","classList","add","styleNode","querySelector","rfkIdStyle","addStyle","WidgetsRenderer","ContentBlockSEOWidget","getContainerNode","containerRendered","container","nodeSelector","init","pathname","setupOptions","processor","setupDataLayer","WidgetsConfigDataProviderProcessor","pageRenderer","setPageUri","setUserUuid"],"sourceRoot":""}